/*! For license information please see 678.3d190b2d7cb5afaca374.js.LICENSE.txt */
(self.webpackChunk_idg_project_name=self.webpackChunk_idg_project_name||[]).push([[678],{62844:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Cf:function(){return consoleSandbox},DM:function(){return uuid4},Db:function(){return addExceptionTypeValue},EG:function(){return addExceptionMechanism},JY:function(){return parseRetryAfterHeader},Rf:function(){return getGlobalObject},en:function(){return parseUrl},jH:function(){return getEventDescription},l4:function(){return getLocationHref}});var _node__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61422),fallbackGlobalObject={};function getGlobalObject(){return(0,_node__WEBPACK_IMPORTED_MODULE_0__.K)()?__webpack_require__.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:fallbackGlobalObject}function uuid4(){var global=getGlobalObject(),crypto=global.crypto||global.msCrypto;if(void 0!==crypto&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=4095&arr[3]|16384,arr[4]=16383&arr[4]|32768;var pad=function(num){for(var v=num.toString(16);v.length<4;)v="0"+v;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}function parseUrl(url){if(!url)return{};var match=url.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!match)return{};var query=match[6]||"",fragment=match[8]||"";return{host:match[4],path:match[5],protocol:match[2],relative:match[5]+query+fragment}}function getEventDescription(event){if(event.message)return event.message;if(event.exception&&event.exception.values&&event.exception.values[0]){var exception=event.exception.values[0];return exception.type&&exception.value?exception.type+": "+exception.value:exception.type||exception.value||event.event_id||"<unknown>"}return event.event_id||"<unknown>"}function consoleSandbox(callback){var global=getGlobalObject();if(!("console"in global))return callback();var originalConsole=global.console,wrappedLevels={};["debug","info","warn","error","log","assert"].forEach((function(level){level in global.console&&originalConsole[level].__sentry_original__&&(wrappedLevels[level]=originalConsole[level],originalConsole[level]=originalConsole[level].__sentry_original__)}));var result=callback();return Object.keys(wrappedLevels).forEach((function(level){originalConsole[level]=wrappedLevels[level]})),result}function addExceptionTypeValue(event,value,type){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].value=event.exception.values[0].value||value||"",event.exception.values[0].type=event.exception.values[0].type||type||"Error"}function addExceptionMechanism(event,mechanism){void 0===mechanism&&(mechanism={});try{event.exception.values[0].mechanism=event.exception.values[0].mechanism||{},Object.keys(mechanism).forEach((function(key){event.exception.values[0].mechanism[key]=mechanism[key]}))}catch(_oO){}}function getLocationHref(){try{return document.location.href}catch(oO){return""}}function parseRetryAfterHeader(now,header){if(!header)return 6e4;var headerDelay=parseInt(""+header,10);if(!isNaN(headerDelay))return 1e3*headerDelay;var headerDate=Date.parse(""+header);return isNaN(headerDate)?6e4:headerDate-now}},61422:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return isNodeEnv},l:function(){return dynamicRequire}});var process=__webpack_require__(34155);function isNodeEnv(){return"[object process]"===Object.prototype.toString.call(void 0!==process?process:0)}function dynamicRequire(mod,request){return mod.require(request)}},21170:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_I:function(){return timestampWithMs},yW:function(){return dateTimestampInSeconds}});var _misc__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62844),_node__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61422);module=__webpack_require__.hmd(module);var dateTimestampSource={nowSeconds:function(){return Date.now()/1e3}};var platformPerformance=(0,_node__WEBPACK_IMPORTED_MODULE_1__.K)()?function getNodePerformance(){try{return(0,_node__WEBPACK_IMPORTED_MODULE_1__.l)(module,"perf_hooks").performance}catch(_){return}}():function getBrowserPerformance(){var performance=(0,_misc__WEBPACK_IMPORTED_MODULE_0__.Rf)().performance;if(performance&&performance.now)return{now:function(){return performance.now()},timeOrigin:Date.now()-performance.now()}}(),timestampSource=void 0===platformPerformance?dateTimestampSource:{nowSeconds:function(){return(platformPerformance.timeOrigin+platformPerformance.now())/1e3}},dateTimestampInSeconds=dateTimestampSource.nowSeconds.bind(dateTimestampSource),timestampWithMs=timestampSource.nowSeconds.bind(timestampSource);!function(){var performance=(0,_misc__WEBPACK_IMPORTED_MODULE_0__.Rf)().performance;if(performance){if(performance.timeOrigin&&Math.abs(performance.timeOrigin+performance.now()-Date.now())<36e5)return"timeOrigin",performance.timeOrigin;var navigationStart=performance.timing&&performance.timing.navigationStart;return"number"==typeof navigationStart&&Math.abs(navigationStart+performance.now()-Date.now())<36e5?("navigationStart",navigationStart):("dateNow",Date.now())}"none"}()},27678:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Hub:function(){return hub_Hub},Scope:function(){return Scope},addBreadcrumb:function(){return addBreadcrumb},addGlobalEventProcessor:function(){return addGlobalEventProcessor},captureEvent:function(){return captureEvent},captureException:function(){return captureException},captureMessage:function(){return captureMessage},configureScope:function(){return configureScope},getCurrentHub:function(){return esm_hub_getCurrentHub},getHubFromCarrier:function(){return hub_getHubFromCarrier},init:function(){return sdk_init},setContext:function(){return setContext},setExtra:function(){return setExtra},setExtras:function(){return setExtras},setTag:function(){return setTag},setTags:function(){return setTags},setUser:function(){return setUser},startTransaction:function(){return startTransaction},vueRouterInstrumentation:function(){return vueRouterInstrumentation},withScope:function(){return withScope}});var tslib_es6=__webpack_require__(70655);function isError(wat){switch(Object.prototype.toString.call(wat)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(wat,Error)}}function isErrorEvent(wat){return"[object ErrorEvent]"===Object.prototype.toString.call(wat)}function isDOMError(wat){return"[object DOMError]"===Object.prototype.toString.call(wat)}function isString(wat){return"[object String]"===Object.prototype.toString.call(wat)}function isPrimitive(wat){return null===wat||"object"!=typeof wat&&"function"!=typeof wat}function isPlainObject(wat){return"[object Object]"===Object.prototype.toString.call(wat)}function isEvent(wat){return"undefined"!=typeof Event&&isInstanceOf(wat,Event)}function isElement(wat){return"undefined"!=typeof Element&&isInstanceOf(wat,Element)}function isThenable(wat){return Boolean(wat&&wat.then&&"function"==typeof wat.then)}function isInstanceOf(wat,base){try{return wat instanceof base}catch(_e){return!1}}var States,time=__webpack_require__(21170);!function(States){States.PENDING="PENDING",States.RESOLVED="RESOLVED",States.REJECTED="REJECTED"}(States||(States={}));var SessionStatus,syncpromise_SyncPromise=function(){function SyncPromise(executor){var _this=this;this._state=States.PENDING,this._handlers=[],this._resolve=function(value){_this._setResult(States.RESOLVED,value)},this._reject=function(reason){_this._setResult(States.REJECTED,reason)},this._setResult=function(state,value){_this._state===States.PENDING&&(isThenable(value)?value.then(_this._resolve,_this._reject):(_this._state=state,_this._value=value,_this._executeHandlers()))},this._attachHandler=function(handler){_this._handlers=_this._handlers.concat(handler),_this._executeHandlers()},this._executeHandlers=function(){if(_this._state!==States.PENDING){var cachedHandlers=_this._handlers.slice();_this._handlers=[],cachedHandlers.forEach((function(handler){handler.done||(_this._state===States.RESOLVED&&handler.onfulfilled&&handler.onfulfilled(_this._value),_this._state===States.REJECTED&&handler.onrejected&&handler.onrejected(_this._value),handler.done=!0)}))}};try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}return SyncPromise.resolve=function(value){return new SyncPromise((function(resolve){resolve(value)}))},SyncPromise.reject=function(reason){return new SyncPromise((function(_,reject){reject(reason)}))},SyncPromise.all=function(collection){return new SyncPromise((function(resolve,reject){if(Array.isArray(collection))if(0!==collection.length){var counter=collection.length,resolvedCollection=[];collection.forEach((function(item,index){SyncPromise.resolve(item).then((function(value){resolvedCollection[index]=value,0===(counter-=1)&&resolve(resolvedCollection)})).then(null,reject)}))}else resolve([]);else reject(new TypeError("Promise.all requires an array as input."))}))},SyncPromise.prototype.then=function(onfulfilled,onrejected){var _this=this;return new SyncPromise((function(resolve,reject){_this._attachHandler({done:!1,onfulfilled:function(result){if(onfulfilled)try{return void resolve(onfulfilled(result))}catch(e){return void reject(e)}else resolve(result)},onrejected:function(reason){if(onrejected)try{return void resolve(onrejected(reason))}catch(e){return void reject(e)}else reject(reason)}})}))},SyncPromise.prototype.catch=function(onrejected){return this.then((function(val){return val}),onrejected)},SyncPromise.prototype.finally=function(onfinally){var _this=this;return new SyncPromise((function(resolve,reject){var val,isRejected;return _this.then((function(value){isRejected=!1,val=value,onfinally&&onfinally()}),(function(reason){isRejected=!0,val=reason,onfinally&&onfinally()})).then((function(){isRejected?reject(val):resolve(val)}))}))},SyncPromise.prototype.toString=function(){return"[object SyncPromise]"},SyncPromise}(),misc=__webpack_require__(62844),Scope=function(){function Scope(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return Scope.clone=function(scope){var newScope=new Scope;return scope&&(newScope._breadcrumbs=(0,tslib_es6.fl)(scope._breadcrumbs),newScope._tags=(0,tslib_es6.pi)({},scope._tags),newScope._extra=(0,tslib_es6.pi)({},scope._extra),newScope._contexts=(0,tslib_es6.pi)({},scope._contexts),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._session=scope._session,newScope._transactionName=scope._transactionName,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=(0,tslib_es6.fl)(scope._eventProcessors)),newScope},Scope.prototype.addScopeListener=function(callback){this._scopeListeners.push(callback)},Scope.prototype.addEventProcessor=function(callback){return this._eventProcessors.push(callback),this},Scope.prototype.setUser=function(user){return this._user=user||{},this._session&&this._session.update({user:user}),this._notifyScopeListeners(),this},Scope.prototype.getUser=function(){return this._user},Scope.prototype.setTags=function(tags){return this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),tags),this._notifyScopeListeners(),this},Scope.prototype.setTag=function(key,value){var _a;return this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),((_a={})[key]=value,_a)),this._notifyScopeListeners(),this},Scope.prototype.setExtras=function(extras){return this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),extras),this._notifyScopeListeners(),this},Scope.prototype.setExtra=function(key,extra){var _a;return this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),((_a={})[key]=extra,_a)),this._notifyScopeListeners(),this},Scope.prototype.setFingerprint=function(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this},Scope.prototype.setLevel=function(level){return this._level=level,this._notifyScopeListeners(),this},Scope.prototype.setTransactionName=function(name){return this._transactionName=name,this._notifyScopeListeners(),this},Scope.prototype.setTransaction=function(name){return this.setTransactionName(name)},Scope.prototype.setContext=function(key,context){var _a;return null===context?delete this._contexts[key]:this._contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),((_a={})[key]=context,_a)),this._notifyScopeListeners(),this},Scope.prototype.setSpan=function(span){return this._span=span,this._notifyScopeListeners(),this},Scope.prototype.getSpan=function(){return this._span},Scope.prototype.getTransaction=function(){var _a,_b,_c,_d,span=this.getSpan();return(null===(_a=span)||void 0===_a?void 0:_a.transaction)?null===(_b=span)||void 0===_b?void 0:_b.transaction:(null===(_d=null===(_c=span)||void 0===_c?void 0:_c.spanRecorder)||void 0===_d?void 0:_d.spans[0])?span.spanRecorder.spans[0]:void 0},Scope.prototype.setSession=function(session){return session?this._session=session:delete this._session,this._notifyScopeListeners(),this},Scope.prototype.getSession=function(){return this._session},Scope.prototype.update=function(captureContext){if(!captureContext)return this;if("function"==typeof captureContext){var updatedScope=captureContext(this);return updatedScope instanceof Scope?updatedScope:this}return captureContext instanceof Scope?(this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),captureContext._tags),this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),captureContext._extra),this._contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),captureContext._contexts),captureContext._user&&Object.keys(captureContext._user).length&&(this._user=captureContext._user),captureContext._level&&(this._level=captureContext._level),captureContext._fingerprint&&(this._fingerprint=captureContext._fingerprint)):isPlainObject(captureContext)&&(this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),captureContext.tags),this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),captureContext.extra),this._contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),captureContext.contexts),captureContext.user&&(this._user=captureContext.user),captureContext.level&&(this._level=captureContext.level),captureContext.fingerprint&&(this._fingerprint=captureContext.fingerprint)),this},Scope.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},Scope.prototype.addBreadcrumb=function(breadcrumb,maxBreadcrumbs){var mergedBreadcrumb=(0,tslib_es6.pi)({timestamp:(0,time.yW)()},breadcrumb);return this._breadcrumbs=void 0!==maxBreadcrumbs&&maxBreadcrumbs>=0?(0,tslib_es6.fl)(this._breadcrumbs,[mergedBreadcrumb]).slice(-maxBreadcrumbs):(0,tslib_es6.fl)(this._breadcrumbs,[mergedBreadcrumb]),this._notifyScopeListeners(),this},Scope.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope.prototype.applyToEvent=function(event,hint){var _a;if(this._extra&&Object.keys(this._extra).length&&(event.extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),event.tags)),this._user&&Object.keys(this._user).length&&(event.user=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._user),event.user)),this._contexts&&Object.keys(this._contexts).length&&(event.contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),event.contexts)),this._level&&(event.level=this._level),this._transactionName&&(event.transaction=this._transactionName),this._span){event.contexts=(0,tslib_es6.pi)({trace:this._span.getTraceContext()},event.contexts);var transactionName=null===(_a=this._span.transaction)||void 0===_a?void 0:_a.name;transactionName&&(event.tags=(0,tslib_es6.pi)({transaction:transactionName},event.tags))}return this._applyFingerprint(event),event.breadcrumbs=(0,tslib_es6.fl)(event.breadcrumbs||[],this._breadcrumbs),event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,this._notifyEventProcessors((0,tslib_es6.fl)(getGlobalEventProcessors(),this._eventProcessors),event,hint)},Scope.prototype._notifyEventProcessors=function(processors,event,hint,index){var _this=this;return void 0===index&&(index=0),new syncpromise_SyncPromise((function(resolve,reject){var processor=processors[index];if(null===event||"function"!=typeof processor)resolve(event);else{var result=processor((0,tslib_es6.pi)({},event),hint);isThenable(result)?result.then((function(final){return _this._notifyEventProcessors(processors,final,hint,index+1).then(resolve)})).then(null,reject):_this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}}))},Scope.prototype._notifyScopeListeners=function(){var _this=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(callback){callback(_this)})),this._notifyingListeners=!1)},Scope.prototype._applyFingerprint=function(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint},Scope}();function getGlobalEventProcessors(){var global=(0,misc.Rf)();return global.__SENTRY__=global.__SENTRY__||{},global.__SENTRY__.globalEventProcessors=global.__SENTRY__.globalEventProcessors||[],global.__SENTRY__.globalEventProcessors}function addGlobalEventProcessor(callback){getGlobalEventProcessors().push(callback)}!function(SessionStatus){SessionStatus.Ok="ok",SessionStatus.Exited="exited",SessionStatus.Crashed="crashed",SessionStatus.Abnormal="abnormal"}(SessionStatus||(SessionStatus={}));var global=(0,misc.Rf)(),PREFIX="Sentry Logger ",Logger=function(){function Logger(){this._enabled=!1}return Logger.prototype.disable=function(){this._enabled=!1},Logger.prototype.enable=function(){this._enabled=!0},Logger.prototype.log=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&(0,misc.Cf)((function(){global.console.log(PREFIX+"[Log]: "+args.join(" "))}))},Logger.prototype.warn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&(0,misc.Cf)((function(){global.console.warn(PREFIX+"[Warn]: "+args.join(" "))}))},Logger.prototype.error=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&(0,misc.Cf)((function(){global.console.error(PREFIX+"[Error]: "+args.join(" "))}))},Logger}();global.__SENTRY__=global.__SENTRY__||{};var logger_logger=global.__SENTRY__.logger||(global.__SENTRY__.logger=new Logger),node=__webpack_require__(61422),scope_Scope=function(){function Scope(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return Scope.clone=function(scope){var newScope=new Scope;return scope&&(newScope._breadcrumbs=(0,tslib_es6.fl)(scope._breadcrumbs),newScope._tags=(0,tslib_es6.pi)({},scope._tags),newScope._extra=(0,tslib_es6.pi)({},scope._extra),newScope._contexts=(0,tslib_es6.pi)({},scope._contexts),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._session=scope._session,newScope._transactionName=scope._transactionName,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=(0,tslib_es6.fl)(scope._eventProcessors)),newScope},Scope.prototype.addScopeListener=function(callback){this._scopeListeners.push(callback)},Scope.prototype.addEventProcessor=function(callback){return this._eventProcessors.push(callback),this},Scope.prototype.setUser=function(user){return this._user=user||{},this._session&&this._session.update({user:user}),this._notifyScopeListeners(),this},Scope.prototype.getUser=function(){return this._user},Scope.prototype.setTags=function(tags){return this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),tags),this._notifyScopeListeners(),this},Scope.prototype.setTag=function(key,value){var _a;return this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),((_a={})[key]=value,_a)),this._notifyScopeListeners(),this},Scope.prototype.setExtras=function(extras){return this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),extras),this._notifyScopeListeners(),this},Scope.prototype.setExtra=function(key,extra){var _a;return this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),((_a={})[key]=extra,_a)),this._notifyScopeListeners(),this},Scope.prototype.setFingerprint=function(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this},Scope.prototype.setLevel=function(level){return this._level=level,this._notifyScopeListeners(),this},Scope.prototype.setTransactionName=function(name){return this._transactionName=name,this._notifyScopeListeners(),this},Scope.prototype.setTransaction=function(name){return this.setTransactionName(name)},Scope.prototype.setContext=function(key,context){var _a;return null===context?delete this._contexts[key]:this._contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),((_a={})[key]=context,_a)),this._notifyScopeListeners(),this},Scope.prototype.setSpan=function(span){return this._span=span,this._notifyScopeListeners(),this},Scope.prototype.getSpan=function(){return this._span},Scope.prototype.getTransaction=function(){var _a,_b,_c,_d,span=this.getSpan();return(null===(_a=span)||void 0===_a?void 0:_a.transaction)?null===(_b=span)||void 0===_b?void 0:_b.transaction:(null===(_d=null===(_c=span)||void 0===_c?void 0:_c.spanRecorder)||void 0===_d?void 0:_d.spans[0])?span.spanRecorder.spans[0]:void 0},Scope.prototype.setSession=function(session){return session?this._session=session:delete this._session,this._notifyScopeListeners(),this},Scope.prototype.getSession=function(){return this._session},Scope.prototype.update=function(captureContext){if(!captureContext)return this;if("function"==typeof captureContext){var updatedScope=captureContext(this);return updatedScope instanceof Scope?updatedScope:this}return captureContext instanceof Scope?(this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),captureContext._tags),this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),captureContext._extra),this._contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),captureContext._contexts),captureContext._user&&Object.keys(captureContext._user).length&&(this._user=captureContext._user),captureContext._level&&(this._level=captureContext._level),captureContext._fingerprint&&(this._fingerprint=captureContext._fingerprint)):isPlainObject(captureContext)&&(this._tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),captureContext.tags),this._extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),captureContext.extra),this._contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),captureContext.contexts),captureContext.user&&(this._user=captureContext.user),captureContext.level&&(this._level=captureContext.level),captureContext.fingerprint&&(this._fingerprint=captureContext.fingerprint)),this},Scope.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},Scope.prototype.addBreadcrumb=function(breadcrumb,maxBreadcrumbs){var mergedBreadcrumb=(0,tslib_es6.pi)({timestamp:(0,time.yW)()},breadcrumb);return this._breadcrumbs=void 0!==maxBreadcrumbs&&maxBreadcrumbs>=0?(0,tslib_es6.fl)(this._breadcrumbs,[mergedBreadcrumb]).slice(-maxBreadcrumbs):(0,tslib_es6.fl)(this._breadcrumbs,[mergedBreadcrumb]),this._notifyScopeListeners(),this},Scope.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope.prototype.applyToEvent=function(event,hint){var _a;if(this._extra&&Object.keys(this._extra).length&&(event.extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._extra),event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._tags),event.tags)),this._user&&Object.keys(this._user).length&&(event.user=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._user),event.user)),this._contexts&&Object.keys(this._contexts).length&&(event.contexts=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._contexts),event.contexts)),this._level&&(event.level=this._level),this._transactionName&&(event.transaction=this._transactionName),this._span){event.contexts=(0,tslib_es6.pi)({trace:this._span.getTraceContext()},event.contexts);var transactionName=null===(_a=this._span.transaction)||void 0===_a?void 0:_a.name;transactionName&&(event.tags=(0,tslib_es6.pi)({transaction:transactionName},event.tags))}return this._applyFingerprint(event),event.breadcrumbs=(0,tslib_es6.fl)(event.breadcrumbs||[],this._breadcrumbs),event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,this._notifyEventProcessors((0,tslib_es6.fl)(scope_getGlobalEventProcessors(),this._eventProcessors),event,hint)},Scope.prototype._notifyEventProcessors=function(processors,event,hint,index){var _this=this;return void 0===index&&(index=0),new syncpromise_SyncPromise((function(resolve,reject){var processor=processors[index];if(null===event||"function"!=typeof processor)resolve(event);else{var result=processor((0,tslib_es6.pi)({},event),hint);isThenable(result)?result.then((function(final){return _this._notifyEventProcessors(processors,final,hint,index+1).then(resolve)})).then(null,reject):_this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}}))},Scope.prototype._notifyScopeListeners=function(){var _this=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(callback){callback(_this)})),this._notifyingListeners=!1)},Scope.prototype._applyFingerprint=function(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint},Scope}();function scope_getGlobalEventProcessors(){var global=(0,misc.Rf)();return global.__SENTRY__=global.__SENTRY__||{},global.__SENTRY__.globalEventProcessors=global.__SENTRY__.globalEventProcessors||[],global.__SENTRY__.globalEventProcessors}function htmlTreeAsString(elem){try{for(var currentElem=elem,out=[],height=0,len=0,sepLength=" > ".length,nextStr=void 0;currentElem&&height++<5&&!("html"===(nextStr=_htmlElementAsString(currentElem))||height>1&&len+out.length*sepLength+nextStr.length>=80);)out.push(nextStr),len+=nextStr.length,currentElem=currentElem.parentNode;return out.reverse().join(" > ")}catch(_oO){return"<unknown>"}}function _htmlElementAsString(el){var className,classes,key,attr,i,elem=el,out=[];if(!elem||!elem.tagName)return"";if(out.push(elem.tagName.toLowerCase()),elem.id&&out.push("#"+elem.id),(className=elem.className)&&isString(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push("."+classes[i]);var allowedAttrs=["type","name","title","alt"];for(i=0;i<allowedAttrs.length;i++)key=allowedAttrs[i],(attr=elem.getAttribute(key))&&out.push("["+key+'="'+attr+'"]');return out.join("")}var Memo=function(){function Memo(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return Memo.prototype.memoize=function(obj){if(this._hasWeakSet)return!!this._inner.has(obj)||(this._inner.add(obj),!1);for(var i=0;i<this._inner.length;i++){if(this._inner[i]===obj)return!0}return this._inner.push(obj),!1},Memo.prototype.unmemoize=function(obj){if(this._hasWeakSet)this._inner.delete(obj);else for(var i=0;i<this._inner.length;i++)if(this._inner[i]===obj){this._inner.splice(i,1);break}},Memo}();function getFunctionName(fn){try{return fn&&"function"==typeof fn&&fn.name||"<anonymous>"}catch(e){return"<anonymous>"}}function truncate(str,max){return void 0===max&&(max=0),"string"!=typeof str||0===max||str.length<=max?str:str.substr(0,max)+"..."}function safeJoin(input,delimiter){if(!Array.isArray(input))return"";for(var output=[],i=0;i<input.length;i++){var value=input[i];try{output.push(String(value))}catch(e){output.push("[value cannot be serialized]")}}return output.join(delimiter)}function isMatchingPattern(value,pattern){return!!isString(value)&&(function isRegExp(wat){return"[object RegExp]"===Object.prototype.toString.call(wat)}(pattern)?pattern.test(value):"string"==typeof pattern&&-1!==value.indexOf(pattern))}function fill(source,name,replacementFactory){if(name in source){var original=source[name],wrapped=replacementFactory(original);if("function"==typeof wrapped)try{wrapped.prototype=wrapped.prototype||{},Object.defineProperties(wrapped,{__sentry_original__:{enumerable:!1,value:original}})}catch(_Oo){}source[name]=wrapped}}function getWalkSource(value){if(isError(value)){var error=value,err={message:error.message,name:error.name,stack:error.stack};for(var i in error)Object.prototype.hasOwnProperty.call(error,i)&&(err[i]=error[i]);return err}if(isEvent(value)){var event_1=value,source={};source.type=event_1.type;try{source.target=isElement(event_1.target)?htmlTreeAsString(event_1.target):Object.prototype.toString.call(event_1.target)}catch(_oO){source.target="<unknown>"}try{source.currentTarget=isElement(event_1.currentTarget)?htmlTreeAsString(event_1.currentTarget):Object.prototype.toString.call(event_1.currentTarget)}catch(_oO){source.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&isInstanceOf(value,CustomEvent)&&(source.detail=event_1.detail),event_1)Object.prototype.hasOwnProperty.call(event_1,i)&&(source[i]=event_1);return source}return value}function jsonSize(value){return function utf8Length(value){return~-encodeURI(value).split(/%..|./).length}(JSON.stringify(value))}function normalizeToSize(object,depth,maxSize){void 0===depth&&(depth=3),void 0===maxSize&&(maxSize=102400);var serialized=normalize(object,depth);return jsonSize(serialized)>maxSize?normalizeToSize(object,depth-1,maxSize):serialized}function normalizeValue(value,key){return"domain"===key&&value&&"object"==typeof value&&value._events?"[Domain]":"domainEmitter"===key?"[DomainEmitter]":void 0!==__webpack_require__.g&&value===__webpack_require__.g?"[Global]":"undefined"!=typeof window&&value===window?"[Window]":"undefined"!=typeof document&&value===document?"[Document]":function isSyntheticEvent(wat){return isPlainObject(wat)&&"nativeEvent"in wat&&"preventDefault"in wat&&"stopPropagation"in wat}(value)?"[SyntheticEvent]":"number"==typeof value&&value!=value?"[NaN]":void 0===value?"[undefined]":"function"==typeof value?"[Function: "+getFunctionName(value)+"]":"symbol"==typeof value?"["+String(value)+"]":"bigint"==typeof value?"[BigInt: "+String(value)+"]":value}function walk(key,value,depth,memo){if(void 0===depth&&(depth=1/0),void 0===memo&&(memo=new Memo),0===depth)return function serializeValue(value){var type=Object.prototype.toString.call(value);if("string"==typeof value)return value;if("[object Object]"===type)return"[Object]";if("[object Array]"===type)return"[Array]";var normalized=normalizeValue(value);return isPrimitive(normalized)?normalized:type}(value);if(null!=value&&"function"==typeof value.toJSON)return value.toJSON();var normalized=normalizeValue(value,key);if(isPrimitive(normalized))return normalized;var source=getWalkSource(value),acc=Array.isArray(value)?[]:{};if(memo.memoize(value))return"[Circular ~]";for(var innerKey in source)Object.prototype.hasOwnProperty.call(source,innerKey)&&(acc[innerKey]=walk(innerKey,source[innerKey],depth-1,memo));return memo.unmemoize(value),acc}function normalize(input,depth){try{return JSON.parse(JSON.stringify(input,(function(key,value){return walk(key,value,depth)})))}catch(_oO){return"**non-serializable**"}}function extractExceptionKeysForMessage(exception,maxLength){void 0===maxLength&&(maxLength=40);var keys=Object.keys(getWalkSource(exception));if(keys.sort(),!keys.length)return"[object has no keys]";if(keys[0].length>=maxLength)return truncate(keys[0],maxLength);for(var includedKeys=keys.length;includedKeys>0;includedKeys--){var serialized=keys.slice(0,includedKeys).join(", ");if(!(serialized.length>maxLength))return includedKeys===keys.length?serialized:truncate(serialized,maxLength)}return""}function dropUndefinedKeys(val){var e_1,_a;if(isPlainObject(val)){var obj=val,rv={};try{for(var _b=(0,tslib_es6.XA)(Object.keys(obj)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value;void 0!==obj[key]&&(rv[key]=dropUndefinedKeys(obj[key]))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return rv}return Array.isArray(val)?val.map(dropUndefinedKeys):val}var Session=function(){function Session(context){this.errors=0,this.sid=(0,misc.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=SessionStatus.Ok,this.init=!0,context&&this.update(context)}return Session.prototype.update=function(context){void 0===context&&(context={}),context.user&&(context.user.ip_address&&(this.ipAddress=context.user.ip_address),context.did||(this.did=context.user.id||context.user.email||context.user.username)),this.timestamp=context.timestamp||Date.now(),context.sid&&(this.sid=32===context.sid.length?context.sid:(0,misc.DM)()),void 0!==context.init&&(this.init=context.init),context.did&&(this.did=""+context.did),"number"==typeof context.started&&(this.started=context.started),"number"==typeof context.duration?this.duration=context.duration:this.duration=this.timestamp-this.started,context.release&&(this.release=context.release),context.environment&&(this.environment=context.environment),context.ipAddress&&(this.ipAddress=context.ipAddress),context.userAgent&&(this.userAgent=context.userAgent),"number"==typeof context.errors&&(this.errors=context.errors),context.status&&(this.status=context.status)},Session.prototype.close=function(status){status?this.update({status:status}):this.status===SessionStatus.Ok?this.update({status:SessionStatus.Exited}):this.update()},Session.prototype.toJSON=function(){return dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},Session}(),Hub=function(){function Hub(client,scope,_version){void 0===scope&&(scope=new scope_Scope),void 0===_version&&(_version=3),this._version=_version,this._stack=[{}],this.getStackTop().scope=scope,this.bindClient(client)}return Hub.prototype.isOlderThan=function(version){return this._version<version},Hub.prototype.bindClient=function(client){this.getStackTop().client=client,client&&client.setupIntegrations&&client.setupIntegrations()},Hub.prototype.pushScope=function(){var scope=scope_Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:scope}),scope},Hub.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},Hub.prototype.withScope=function(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}},Hub.prototype.getClient=function(){return this.getStackTop().client},Hub.prototype.getScope=function(){return this.getStackTop().scope},Hub.prototype.getStack=function(){return this._stack},Hub.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub.prototype.captureException=function(exception,hint){var eventId=this._lastEventId=(0,misc.DM)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}finalHint={originalException:exception,syntheticException:syntheticException}}return this._invokeClient("captureException",exception,(0,tslib_es6.pi)((0,tslib_es6.pi)({},finalHint),{event_id:eventId})),eventId},Hub.prototype.captureMessage=function(message,level,hint){var eventId=this._lastEventId=(0,misc.DM)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error(message)}catch(exception){syntheticException=exception}finalHint={originalException:message,syntheticException:syntheticException}}return this._invokeClient("captureMessage",message,level,(0,tslib_es6.pi)((0,tslib_es6.pi)({},finalHint),{event_id:eventId})),eventId},Hub.prototype.captureEvent=function(event,hint){var eventId=this._lastEventId=(0,misc.DM)();return this._invokeClient("captureEvent",event,(0,tslib_es6.pi)((0,tslib_es6.pi)({},hint),{event_id:eventId})),eventId},Hub.prototype.lastEventId=function(){return this._lastEventId},Hub.prototype.addBreadcrumb=function(breadcrumb,hint){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;if(scope&&client){var _b=client.getOptions&&client.getOptions()||{},_c=_b.beforeBreadcrumb,beforeBreadcrumb=void 0===_c?null:_c,_d=_b.maxBreadcrumbs,maxBreadcrumbs=void 0===_d?100:_d;if(!(maxBreadcrumbs<=0)){var timestamp=(0,time.yW)(),mergedBreadcrumb=(0,tslib_es6.pi)({timestamp:timestamp},breadcrumb),finalBreadcrumb=beforeBreadcrumb?(0,misc.Cf)((function(){return beforeBreadcrumb(mergedBreadcrumb,hint)})):mergedBreadcrumb;null!==finalBreadcrumb&&scope.addBreadcrumb(finalBreadcrumb,Math.min(maxBreadcrumbs,100))}}},Hub.prototype.setUser=function(user){var scope=this.getScope();scope&&scope.setUser(user)},Hub.prototype.setTags=function(tags){var scope=this.getScope();scope&&scope.setTags(tags)},Hub.prototype.setExtras=function(extras){var scope=this.getScope();scope&&scope.setExtras(extras)},Hub.prototype.setTag=function(key,value){var scope=this.getScope();scope&&scope.setTag(key,value)},Hub.prototype.setExtra=function(key,extra){var scope=this.getScope();scope&&scope.setExtra(key,extra)},Hub.prototype.setContext=function(name,context){var scope=this.getScope();scope&&scope.setContext(name,context)},Hub.prototype.configureScope=function(callback){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;scope&&client&&callback(scope)},Hub.prototype.run=function(callback){var oldHub=makeMain(this);try{callback(this)}finally{makeMain(oldHub)}},Hub.prototype.getIntegration=function(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch(_oO){return logger_logger.warn("Cannot retrieve integration "+integration.id+" from the current Hub"),null}},Hub.prototype.startSpan=function(context){return this._callExtensionMethod("startSpan",context)},Hub.prototype.startTransaction=function(context,customSamplingContext){return this._callExtensionMethod("startTransaction",context,customSamplingContext)},Hub.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub.prototype.captureSession=function(endSession){if(void 0===endSession&&(endSession=!1),endSession)return this.endSession();this._sendSessionUpdate()},Hub.prototype.endSession=function(){var _a,_b,_c,_d,_e;null===(_c=null===(_b=null===(_a=this.getStackTop())||void 0===_a?void 0:_a.scope)||void 0===_b?void 0:_b.getSession())||void 0===_c||_c.close(),this._sendSessionUpdate(),null===(_e=null===(_d=this.getStackTop())||void 0===_d?void 0:_d.scope)||void 0===_e||_e.setSession()},Hub.prototype.startSession=function(context){var _a=this.getStackTop(),scope=_a.scope,client=_a.client,_b=client&&client.getOptions()||{},release=_b.release,environment=_b.environment,session=new Session((0,tslib_es6.pi)((0,tslib_es6.pi)({release:release,environment:environment},scope&&{user:scope.getUser()}),context));if(scope){var currentSession=scope.getSession&&scope.getSession();currentSession&&currentSession.status===SessionStatus.Ok&&currentSession.update({status:SessionStatus.Exited}),this.endSession(),scope.setSession(session)}return session},Hub.prototype._sendSessionUpdate=function(){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;if(scope){var session=scope.getSession&&scope.getSession();session&&client&&client.captureSession&&client.captureSession(session)}},Hub.prototype._invokeClient=function(method){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _b=this.getStackTop(),scope=_b.scope,client=_b.client;client&&client[method]&&(_a=client)[method].apply(_a,(0,tslib_es6.fl)(args,[scope]))},Hub.prototype._callExtensionMethod=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var carrier=getMainCarrier(),sentry=carrier.__SENTRY__;if(sentry&&sentry.extensions&&"function"==typeof sentry.extensions[method])return sentry.extensions[method].apply(this,args);logger_logger.warn("Extension method "+method+" couldn't be found, doing nothing.")},Hub}();function getMainCarrier(){var carrier=(0,misc.Rf)();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}function makeMain(hub){var registry=getMainCarrier(),oldHub=getHubFromCarrier(registry);return setHubOnCarrier(registry,hub),oldHub}function hub_getCurrentHub(){var registry=getMainCarrier();return hasHubOnCarrier(registry)&&!getHubFromCarrier(registry).isOlderThan(3)||setHubOnCarrier(registry,new Hub),(0,node.K)()?function getHubFromActiveDomain(registry){var _a,_b,_c;try{var activeDomain=null===(_c=null===(_b=null===(_a=getMainCarrier().__SENTRY__)||void 0===_a?void 0:_a.extensions)||void 0===_b?void 0:_b.domain)||void 0===_c?void 0:_c.active;if(!activeDomain)return getHubFromCarrier(registry);if(!hasHubOnCarrier(activeDomain)||getHubFromCarrier(activeDomain).isOlderThan(3)){var registryHubTopStack=getHubFromCarrier(registry).getStackTop();setHubOnCarrier(activeDomain,new Hub(registryHubTopStack.client,scope_Scope.clone(registryHubTopStack.scope)))}return getHubFromCarrier(activeDomain)}catch(_Oo){return getHubFromCarrier(registry)}}(registry):getHubFromCarrier(registry)}function hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function getHubFromCarrier(carrier){return carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub||(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=new Hub),carrier.__SENTRY__.hub}function setHubOnCarrier(carrier,hub){return!!carrier&&(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=hub,!0)}function callOnHub(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var hub=hub_getCurrentHub();if(hub&&hub[method])return hub[method].apply(hub,(0,tslib_es6.fl)(args));throw new Error("No hub defined or "+method+" was not found on the hub, please open a bug report.")}function captureException(exception,captureContext){var syntheticException;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}return callOnHub("captureException",exception,{captureContext:captureContext,originalException:exception,syntheticException:syntheticException})}function captureMessage(message,captureContext){var syntheticException;try{throw new Error(message)}catch(exception){syntheticException=exception}var context="string"!=typeof captureContext?{captureContext:captureContext}:void 0;return callOnHub("captureMessage",message,"string"==typeof captureContext?captureContext:void 0,(0,tslib_es6.pi)({originalException:message,syntheticException:syntheticException},context))}function captureEvent(event){return callOnHub("captureEvent",event)}function configureScope(callback){callOnHub("configureScope",callback)}function addBreadcrumb(breadcrumb){callOnHub("addBreadcrumb",breadcrumb)}function setContext(name,context){callOnHub("setContext",name,context)}function setExtras(extras){callOnHub("setExtras",extras)}function setTags(tags){callOnHub("setTags",tags)}function setExtra(key,extra){callOnHub("setExtra",key,extra)}function setTag(key,value){callOnHub("setTag",key,value)}function setUser(user){callOnHub("setUser",user)}function withScope(callback){callOnHub("withScope",callback)}function startTransaction(context,customSamplingContext){return callOnHub("startTransaction",(0,tslib_es6.pi)({},context),customSamplingContext)}var session_Session=function(){function Session(context){this.errors=0,this.sid=(0,misc.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=SessionStatus.Ok,this.init=!0,context&&this.update(context)}return Session.prototype.update=function(context){void 0===context&&(context={}),context.user&&(context.user.ip_address&&(this.ipAddress=context.user.ip_address),context.did||(this.did=context.user.id||context.user.email||context.user.username)),this.timestamp=context.timestamp||Date.now(),context.sid&&(this.sid=32===context.sid.length?context.sid:(0,misc.DM)()),void 0!==context.init&&(this.init=context.init),context.did&&(this.did=""+context.did),"number"==typeof context.started&&(this.started=context.started),"number"==typeof context.duration?this.duration=context.duration:this.duration=this.timestamp-this.started,context.release&&(this.release=context.release),context.environment&&(this.environment=context.environment),context.ipAddress&&(this.ipAddress=context.ipAddress),context.userAgent&&(this.userAgent=context.userAgent),"number"==typeof context.errors&&(this.errors=context.errors),context.status&&(this.status=context.status)},Session.prototype.close=function(status){status?this.update({status:status}):this.status===SessionStatus.Ok?this.update({status:SessionStatus.Exited}):this.update()},Session.prototype.toJSON=function(){return dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},Session}(),hub_Hub=function(){function Hub(client,scope,_version){void 0===scope&&(scope=new Scope),void 0===_version&&(_version=3),this._version=_version,this._stack=[{}],this.getStackTop().scope=scope,this.bindClient(client)}return Hub.prototype.isOlderThan=function(version){return this._version<version},Hub.prototype.bindClient=function(client){this.getStackTop().client=client,client&&client.setupIntegrations&&client.setupIntegrations()},Hub.prototype.pushScope=function(){var scope=Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:scope}),scope},Hub.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},Hub.prototype.withScope=function(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}},Hub.prototype.getClient=function(){return this.getStackTop().client},Hub.prototype.getScope=function(){return this.getStackTop().scope},Hub.prototype.getStack=function(){return this._stack},Hub.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub.prototype.captureException=function(exception,hint){var eventId=this._lastEventId=(0,misc.DM)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}finalHint={originalException:exception,syntheticException:syntheticException}}return this._invokeClient("captureException",exception,(0,tslib_es6.pi)((0,tslib_es6.pi)({},finalHint),{event_id:eventId})),eventId},Hub.prototype.captureMessage=function(message,level,hint){var eventId=this._lastEventId=(0,misc.DM)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error(message)}catch(exception){syntheticException=exception}finalHint={originalException:message,syntheticException:syntheticException}}return this._invokeClient("captureMessage",message,level,(0,tslib_es6.pi)((0,tslib_es6.pi)({},finalHint),{event_id:eventId})),eventId},Hub.prototype.captureEvent=function(event,hint){var eventId=this._lastEventId=(0,misc.DM)();return this._invokeClient("captureEvent",event,(0,tslib_es6.pi)((0,tslib_es6.pi)({},hint),{event_id:eventId})),eventId},Hub.prototype.lastEventId=function(){return this._lastEventId},Hub.prototype.addBreadcrumb=function(breadcrumb,hint){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;if(scope&&client){var _b=client.getOptions&&client.getOptions()||{},_c=_b.beforeBreadcrumb,beforeBreadcrumb=void 0===_c?null:_c,_d=_b.maxBreadcrumbs,maxBreadcrumbs=void 0===_d?100:_d;if(!(maxBreadcrumbs<=0)){var timestamp=(0,time.yW)(),mergedBreadcrumb=(0,tslib_es6.pi)({timestamp:timestamp},breadcrumb),finalBreadcrumb=beforeBreadcrumb?(0,misc.Cf)((function(){return beforeBreadcrumb(mergedBreadcrumb,hint)})):mergedBreadcrumb;null!==finalBreadcrumb&&scope.addBreadcrumb(finalBreadcrumb,Math.min(maxBreadcrumbs,100))}}},Hub.prototype.setUser=function(user){var scope=this.getScope();scope&&scope.setUser(user)},Hub.prototype.setTags=function(tags){var scope=this.getScope();scope&&scope.setTags(tags)},Hub.prototype.setExtras=function(extras){var scope=this.getScope();scope&&scope.setExtras(extras)},Hub.prototype.setTag=function(key,value){var scope=this.getScope();scope&&scope.setTag(key,value)},Hub.prototype.setExtra=function(key,extra){var scope=this.getScope();scope&&scope.setExtra(key,extra)},Hub.prototype.setContext=function(name,context){var scope=this.getScope();scope&&scope.setContext(name,context)},Hub.prototype.configureScope=function(callback){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;scope&&client&&callback(scope)},Hub.prototype.run=function(callback){var oldHub=hub_makeMain(this);try{callback(this)}finally{hub_makeMain(oldHub)}},Hub.prototype.getIntegration=function(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch(_oO){return logger_logger.warn("Cannot retrieve integration "+integration.id+" from the current Hub"),null}},Hub.prototype.startSpan=function(context){return this._callExtensionMethod("startSpan",context)},Hub.prototype.startTransaction=function(context,customSamplingContext){return this._callExtensionMethod("startTransaction",context,customSamplingContext)},Hub.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub.prototype.captureSession=function(endSession){if(void 0===endSession&&(endSession=!1),endSession)return this.endSession();this._sendSessionUpdate()},Hub.prototype.endSession=function(){var _a,_b,_c,_d,_e;null===(_c=null===(_b=null===(_a=this.getStackTop())||void 0===_a?void 0:_a.scope)||void 0===_b?void 0:_b.getSession())||void 0===_c||_c.close(),this._sendSessionUpdate(),null===(_e=null===(_d=this.getStackTop())||void 0===_d?void 0:_d.scope)||void 0===_e||_e.setSession()},Hub.prototype.startSession=function(context){var _a=this.getStackTop(),scope=_a.scope,client=_a.client,_b=client&&client.getOptions()||{},release=_b.release,environment=_b.environment,session=new session_Session((0,tslib_es6.pi)((0,tslib_es6.pi)({release:release,environment:environment},scope&&{user:scope.getUser()}),context));if(scope){var currentSession=scope.getSession&&scope.getSession();currentSession&&currentSession.status===SessionStatus.Ok&&currentSession.update({status:SessionStatus.Exited}),this.endSession(),scope.setSession(session)}return session},Hub.prototype._sendSessionUpdate=function(){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;if(scope){var session=scope.getSession&&scope.getSession();session&&client&&client.captureSession&&client.captureSession(session)}},Hub.prototype._invokeClient=function(method){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _b=this.getStackTop(),scope=_b.scope,client=_b.client;client&&client[method]&&(_a=client)[method].apply(_a,(0,tslib_es6.fl)(args,[scope]))},Hub.prototype._callExtensionMethod=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var carrier=hub_getMainCarrier(),sentry=carrier.__SENTRY__;if(sentry&&sentry.extensions&&"function"==typeof sentry.extensions[method])return sentry.extensions[method].apply(this,args);logger_logger.warn("Extension method "+method+" couldn't be found, doing nothing.")},Hub}();function hub_getMainCarrier(){var carrier=(0,misc.Rf)();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}function hub_makeMain(hub){var registry=hub_getMainCarrier(),oldHub=hub_getHubFromCarrier(registry);return hub_setHubOnCarrier(registry,hub),oldHub}function esm_hub_getCurrentHub(){var registry=hub_getMainCarrier();return hub_hasHubOnCarrier(registry)&&!hub_getHubFromCarrier(registry).isOlderThan(3)||hub_setHubOnCarrier(registry,new hub_Hub),(0,node.K)()?function hub_getHubFromActiveDomain(registry){var _a,_b,_c;try{var activeDomain=null===(_c=null===(_b=null===(_a=hub_getMainCarrier().__SENTRY__)||void 0===_a?void 0:_a.extensions)||void 0===_b?void 0:_b.domain)||void 0===_c?void 0:_c.active;if(!activeDomain)return hub_getHubFromCarrier(registry);if(!hub_hasHubOnCarrier(activeDomain)||hub_getHubFromCarrier(activeDomain).isOlderThan(3)){var registryHubTopStack=hub_getHubFromCarrier(registry).getStackTop();hub_setHubOnCarrier(activeDomain,new hub_Hub(registryHubTopStack.client,Scope.clone(registryHubTopStack.scope)))}return hub_getHubFromCarrier(activeDomain)}catch(_Oo){return hub_getHubFromCarrier(registry)}}(registry):hub_getHubFromCarrier(registry)}function hub_hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function hub_getHubFromCarrier(carrier){return carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub||(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=new hub_Hub),carrier.__SENTRY__.hub}function hub_setHubOnCarrier(carrier,hub){return!!carrier&&(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=hub,!0)}var originalFunctionToString,DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],InboundFilters=function(){function InboundFilters(_options){void 0===_options&&(_options={}),this._options=_options,this.name=InboundFilters.id}return InboundFilters.prototype.setupOnce=function(){addGlobalEventProcessor((function(event){var hub=esm_hub_getCurrentHub();if(!hub)return event;var self=hub.getIntegration(InboundFilters);if(self){var client=hub.getClient(),clientOptions=client?client.getOptions():{},options=self._mergeOptions(clientOptions);if(self._shouldDropEvent(event,options))return null}return event}))},InboundFilters.prototype._shouldDropEvent=function(event,options){return this._isSentryError(event,options)?(logger_logger.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,misc.jH)(event)),!0):this._isIgnoredError(event,options)?(logger_logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,misc.jH)(event)),!0):this._isDeniedUrl(event,options)?(logger_logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,misc.jH)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0):!this._isAllowedUrl(event,options)&&(logger_logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,misc.jH)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0)},InboundFilters.prototype._isSentryError=function(event,options){if(!options.ignoreInternal)return!1;try{return event&&event.exception&&event.exception.values&&event.exception.values[0]&&"SentryError"===event.exception.values[0].type||!1}catch(_oO){return!1}},InboundFilters.prototype._isIgnoredError=function(event,options){return!(!options.ignoreErrors||!options.ignoreErrors.length)&&this._getPossibleEventMessages(event).some((function(message){return options.ignoreErrors.some((function(pattern){return isMatchingPattern(message,pattern)}))}))},InboundFilters.prototype._isDeniedUrl=function(event,options){if(!options.denyUrls||!options.denyUrls.length)return!1;var url=this._getEventFilterUrl(event);return!!url&&options.denyUrls.some((function(pattern){return isMatchingPattern(url,pattern)}))},InboundFilters.prototype._isAllowedUrl=function(event,options){if(!options.allowUrls||!options.allowUrls.length)return!0;var url=this._getEventFilterUrl(event);return!url||options.allowUrls.some((function(pattern){return isMatchingPattern(url,pattern)}))},InboundFilters.prototype._mergeOptions=function(clientOptions){return void 0===clientOptions&&(clientOptions={}),{allowUrls:(0,tslib_es6.fl)(this._options.whitelistUrls||[],this._options.allowUrls||[],clientOptions.whitelistUrls||[],clientOptions.allowUrls||[]),denyUrls:(0,tslib_es6.fl)(this._options.blacklistUrls||[],this._options.denyUrls||[],clientOptions.blacklistUrls||[],clientOptions.denyUrls||[]),ignoreErrors:(0,tslib_es6.fl)(this._options.ignoreErrors||[],clientOptions.ignoreErrors||[],DEFAULT_IGNORE_ERRORS),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},InboundFilters.prototype._getPossibleEventMessages=function(event){if(event.message)return[event.message];if(event.exception)try{var _a=event.exception.values&&event.exception.values[0]||{},_b=_a.type,type=void 0===_b?"":_b,_c=_a.value,value=void 0===_c?"":_c;return[""+value,type+": "+value]}catch(oO){return logger_logger.error("Cannot extract message for event "+(0,misc.jH)(event)),[]}return[]},InboundFilters.prototype._getEventFilterUrl=function(event){try{if(event.stacktrace){var frames_1=event.stacktrace.frames;return frames_1&&frames_1[frames_1.length-1].filename||null}if(event.exception){var frames_2=event.exception.values&&event.exception.values[0].stacktrace&&event.exception.values[0].stacktrace.frames;return frames_2&&frames_2[frames_2.length-1].filename||null}return null}catch(oO){return logger_logger.error("Cannot extract url for event "+(0,misc.jH)(event)),null}},InboundFilters.id="InboundFilters",InboundFilters}(),FunctionToString=function(){function FunctionToString(){this.name=FunctionToString.id}return FunctionToString.prototype.setupOnce=function(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var context=this.__sentry_original__||this;return originalFunctionToString.apply(context,args)}},FunctionToString.id="FunctionToString",FunctionToString}();function supportsFetch(){if(!("fetch"in(0,misc.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function isNativeFetch(func){return func&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(func.toString())}function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var lastHref,instrument_global=(0,misc.Rf)(),handlers={},instrumented={};function instrument(type){if(!instrumented[type])switch(instrumented[type]=!0,type){case"console":!function instrumentConsole(){if(!("console"in instrument_global))return;["debug","info","warn","error","log","assert"].forEach((function(level){level in instrument_global.console&&fill(instrument_global.console,level,(function(originalConsoleLevel){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];triggerHandlers("console",{args:args,level:level}),originalConsoleLevel&&Function.prototype.apply.call(originalConsoleLevel,instrument_global.console,args)}}))}))}();break;case"dom":!function instrumentDOM(){if(!("document"in instrument_global))return;var triggerDOMHandler=triggerHandlers.bind(null,"dom"),globalDOMEventHandler=makeDOMEventHandler(triggerDOMHandler,!0);instrument_global.document.addEventListener("click",globalDOMEventHandler,!1),instrument_global.document.addEventListener("keypress",globalDOMEventHandler,!1),["EventTarget","Node"].forEach((function(target){var proto=instrument_global[target]&&instrument_global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(fill(proto,"addEventListener",(function(originalAddEventListener){return function(type,listener,options){if("click"===type||"keypress"==type)try{var el=this,handlers_1=el.__sentry_instrumentation_handlers__=el.__sentry_instrumentation_handlers__||{},handlerForType=handlers_1[type]=handlers_1[type]||{refCount:0};if(!handlerForType.handler){var handler=makeDOMEventHandler(triggerDOMHandler);handlerForType.handler=handler,originalAddEventListener.call(this,type,handler,options)}handlerForType.refCount+=1}catch(e){}return originalAddEventListener.call(this,type,listener,options)}})),fill(proto,"removeEventListener",(function(originalRemoveEventListener){return function(type,listener,options){if("click"===type||"keypress"==type)try{var el=this,handlers_2=el.__sentry_instrumentation_handlers__||{},handlerForType=handlers_2[type];handlerForType&&(handlerForType.refCount-=1,handlerForType.refCount<=0&&(originalRemoveEventListener.call(this,type,handlerForType.handler,options),handlerForType.handler=void 0,delete handlers_2[type]),0===Object.keys(handlers_2).length&&delete el.__sentry_instrumentation_handlers__)}catch(e){}return originalRemoveEventListener.call(this,type,listener,options)}})))}))}();break;case"xhr":!function instrumentXHR(){if(!("XMLHttpRequest"in instrument_global))return;var requestKeys=[],requestValues=[],xhrproto=XMLHttpRequest.prototype;fill(xhrproto,"open",(function(originalOpen){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this,url=args[1];xhr.__sentry_xhr__={method:isString(args[0])?args[0].toUpperCase():args[0],url:args[1]},isString(url)&&"POST"===xhr.__sentry_xhr__.method&&url.match(/sentry_key/)&&(xhr.__sentry_own_request__=!0);var onreadystatechangeHandler=function(){if(4===xhr.readyState){try{xhr.__sentry_xhr__&&(xhr.__sentry_xhr__.status_code=xhr.status)}catch(e){}try{var requestPos=requestKeys.indexOf(xhr);if(-1!==requestPos){requestKeys.splice(requestPos);var args_1=requestValues.splice(requestPos)[0];xhr.__sentry_xhr__&&void 0!==args_1[0]&&(xhr.__sentry_xhr__.body=args_1[0])}}catch(e){}triggerHandlers("xhr",{args:args,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:xhr})}};return"onreadystatechange"in xhr&&"function"==typeof xhr.onreadystatechange?fill(xhr,"onreadystatechange",(function(original){return function(){for(var readyStateArgs=[],_i=0;_i<arguments.length;_i++)readyStateArgs[_i]=arguments[_i];return onreadystatechangeHandler(),original.apply(xhr,readyStateArgs)}})):xhr.addEventListener("readystatechange",onreadystatechangeHandler),originalOpen.apply(xhr,args)}})),fill(xhrproto,"send",(function(originalSend){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return requestKeys.push(this),requestValues.push(args),triggerHandlers("xhr",{args:args,startTimestamp:Date.now(),xhr:this}),originalSend.apply(this,args)}}))}();break;case"fetch":!function instrumentFetch(){if(!function supportsNativeFetch(){if(!supportsFetch())return!1;var global=(0,misc.Rf)();if(isNativeFetch(global.fetch))return!0;var result=!1,doc=global.document;if(doc&&"function"==typeof doc.createElement)try{var sandbox=doc.createElement("iframe");sandbox.hidden=!0,doc.head.appendChild(sandbox),sandbox.contentWindow&&sandbox.contentWindow.fetch&&(result=isNativeFetch(sandbox.contentWindow.fetch)),doc.head.removeChild(sandbox)}catch(err){logger_logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",err)}return result}())return;fill(instrument_global,"fetch",(function(originalFetch){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var handlerData={args:args,fetchData:{method:getFetchMethod(args),url:getFetchUrl(args)},startTimestamp:Date.now()};return triggerHandlers("fetch",(0,tslib_es6.pi)({},handlerData)),originalFetch.apply(instrument_global,args).then((function(response){return triggerHandlers("fetch",(0,tslib_es6.pi)((0,tslib_es6.pi)({},handlerData),{endTimestamp:Date.now(),response:response})),response}),(function(error){throw triggerHandlers("fetch",(0,tslib_es6.pi)((0,tslib_es6.pi)({},handlerData),{endTimestamp:Date.now(),error:error})),error}))}}))}();break;case"history":!function instrumentHistory(){if(!function supportsHistory(){var global=(0,misc.Rf)(),chrome=global.chrome,isChromePackagedApp=chrome&&chrome.app&&chrome.app.runtime,hasHistoryApi="history"in global&&!!global.history.pushState&&!!global.history.replaceState;return!isChromePackagedApp&&hasHistoryApi}())return;var oldOnPopState=instrument_global.onpopstate;function historyReplacementFunction(originalHistoryFunction){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var url=args.length>2?args[2]:void 0;if(url){var from=lastHref,to=String(url);lastHref=to,triggerHandlers("history",{from:from,to:to})}return originalHistoryFunction.apply(this,args)}}instrument_global.onpopstate=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var to=instrument_global.location.href,from=lastHref;if(lastHref=to,triggerHandlers("history",{from:from,to:to}),oldOnPopState)return oldOnPopState.apply(this,args)},fill(instrument_global.history,"pushState",historyReplacementFunction),fill(instrument_global.history,"replaceState",historyReplacementFunction)}();break;case"error":!function instrumentError(){_oldOnErrorHandler=instrument_global.onerror,instrument_global.onerror=function(msg,url,line,column,error){return triggerHandlers("error",{column:column,error:error,line:line,msg:msg,url:url}),!!_oldOnErrorHandler&&_oldOnErrorHandler.apply(this,arguments)}}();break;case"unhandledrejection":!function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=instrument_global.onunhandledrejection,instrument_global.onunhandledrejection=function(e){return triggerHandlers("unhandledrejection",e),!_oldOnUnhandledRejectionHandler||_oldOnUnhandledRejectionHandler.apply(this,arguments)}}();break;default:logger_logger.warn("unknown instrumentation type:",type)}}function addInstrumentationHandler(handler){handler&&"string"==typeof handler.type&&"function"==typeof handler.callback&&(handlers[handler.type]=handlers[handler.type]||[],handlers[handler.type].push(handler.callback),instrument(handler.type))}function triggerHandlers(type,data){var e_1,_a;if(type&&handlers[type])try{for(var _b=(0,tslib_es6.XA)(handlers[type]||[]),_c=_b.next();!_c.done;_c=_b.next()){var handler=_c.value;try{handler(data)}catch(e){logger_logger.error("Error while triggering instrumentation handler.\nType: "+type+"\nName: "+getFunctionName(handler)+"\nError: "+e)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}function getFetchMethod(fetchArgs){return void 0===fetchArgs&&(fetchArgs=[]),"Request"in instrument_global&&isInstanceOf(fetchArgs[0],Request)&&fetchArgs[0].method?String(fetchArgs[0].method).toUpperCase():fetchArgs[1]&&fetchArgs[1].method?String(fetchArgs[1].method).toUpperCase():"GET"}function getFetchUrl(fetchArgs){return void 0===fetchArgs&&(fetchArgs=[]),"string"==typeof fetchArgs[0]?fetchArgs[0]:"Request"in instrument_global&&isInstanceOf(fetchArgs[0],Request)?fetchArgs[0].url:String(fetchArgs[0])}var debounceTimerID,lastCapturedEvent;function makeDOMEventHandler(handler,globalListener){return void 0===globalListener&&(globalListener=!1),function(event){if(event&&lastCapturedEvent!==event&&!function shouldSkipDOMEvent(event){if("keypress"!==event.type)return!1;try{var target=event.target;if(!target||!target.tagName)return!0;if("INPUT"===target.tagName||"TEXTAREA"===target.tagName||target.isContentEditable)return!1}catch(e){}return!0}(event)){var name="keypress"===event.type?"input":event.type;(void 0===debounceTimerID||function shouldShortcircuitPreviousDebounce(previous,current){if(!previous)return!0;if(previous.type!==current.type)return!0;try{if(previous.target!==current.target)return!0}catch(e){}return!1}(lastCapturedEvent,event))&&(handler({event:event,name:name,global:globalListener}),lastCapturedEvent=event),clearTimeout(debounceTimerID),debounceTimerID=instrument_global.setTimeout((function(){debounceTimerID=void 0}),1e3)}}}var _oldOnErrorHandler=null;var _oldOnUnhandledRejectionHandler=null;var setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function setProtoOf(obj,proto){return obj.__proto__=proto,obj}:function mixinProperties(obj,proto){for(var prop in proto)obj.hasOwnProperty(prop)||(obj[prop]=proto[prop]);return obj});var SentryError=function(_super){function SentryError(message){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.message=message,_this.name=_newTarget.prototype.constructor.name,setPrototypeOf(_this,_newTarget.prototype),_this}return(0,tslib_es6.ZT)(SentryError,_super),SentryError}(Error),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Dsn=function(){function Dsn(from){"string"==typeof from?this._fromString(from):this._fromComponents(from),this._validate()}return Dsn.prototype.toString=function(withPassword){void 0===withPassword&&(withPassword=!1);var _a=this,host=_a.host,path=_a.path,pass=_a.pass,port=_a.port,projectId=_a.projectId;return _a.protocol+"://"+_a.publicKey+(withPassword&&pass?":"+pass:"")+"@"+host+(port?":"+port:"")+"/"+(path?path+"/":path)+projectId},Dsn.prototype._fromString=function(str){var match=DSN_REGEX.exec(str);if(!match)throw new SentryError("Invalid Dsn");var _a=(0,tslib_es6.CR)(match.slice(1),6),protocol=_a[0],publicKey=_a[1],_b=_a[2],pass=void 0===_b?"":_b,host=_a[3],_c=_a[4],port=void 0===_c?"":_c,path="",projectId=_a[5],split=projectId.split("/");if(split.length>1&&(path=split.slice(0,-1).join("/"),projectId=split.pop()),projectId){var projectMatch=projectId.match(/^\d+/);projectMatch&&(projectId=projectMatch[0])}this._fromComponents({host:host,pass:pass,path:path,projectId:projectId,port:port,protocol:protocol,publicKey:publicKey})},Dsn.prototype._fromComponents=function(components){"user"in components&&!("publicKey"in components)&&(components.publicKey=components.user),this.user=components.publicKey||"",this.protocol=components.protocol,this.publicKey=components.publicKey||"",this.pass=components.pass||"",this.host=components.host,this.port=components.port||"",this.path=components.path||"",this.projectId=components.projectId},Dsn.prototype._validate=function(){var _this=this;if(["protocol","publicKey","host","projectId"].forEach((function(component){if(!_this[component])throw new SentryError("Invalid Dsn: "+component+" missing")})),!this.projectId.match(/^\d+$/))throw new SentryError("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new SentryError("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new SentryError("Invalid Dsn: Invalid port "+this.port)},Dsn}(),installedIntegrations=[];function setupIntegrations(options){var integrations={};return function getIntegrationsToSetup(options){var defaultIntegrations=options.defaultIntegrations&&(0,tslib_es6.fl)(options.defaultIntegrations)||[],userIntegrations=options.integrations,integrations=[];if(Array.isArray(userIntegrations)){var userIntegrationsNames_1=userIntegrations.map((function(i){return i.name})),pickedIntegrationsNames_1=[];defaultIntegrations.forEach((function(defaultIntegration){-1===userIntegrationsNames_1.indexOf(defaultIntegration.name)&&-1===pickedIntegrationsNames_1.indexOf(defaultIntegration.name)&&(integrations.push(defaultIntegration),pickedIntegrationsNames_1.push(defaultIntegration.name))})),userIntegrations.forEach((function(userIntegration){-1===pickedIntegrationsNames_1.indexOf(userIntegration.name)&&(integrations.push(userIntegration),pickedIntegrationsNames_1.push(userIntegration.name))}))}else"function"==typeof userIntegrations?(integrations=userIntegrations(defaultIntegrations),integrations=Array.isArray(integrations)?integrations:[integrations]):integrations=(0,tslib_es6.fl)(defaultIntegrations);var integrationsNames=integrations.map((function(i){return i.name}));return-1!==integrationsNames.indexOf("Debug")&&integrations.push.apply(integrations,(0,tslib_es6.fl)(integrations.splice(integrationsNames.indexOf("Debug"),1))),integrations}(options).forEach((function(integration){integrations[integration.name]=integration,function setupIntegration(integration){-1===installedIntegrations.indexOf(integration.name)&&(integration.setupOnce(addGlobalEventProcessor,esm_hub_getCurrentHub),installedIntegrations.push(integration.name),logger_logger.log("Integration installed: "+integration.name))}(integration)})),integrations}var Status,BaseClient=function(){function BaseClient(backendClass,options){this._integrations={},this._processing=0,this._backend=new backendClass(options),this._options=options,options.dsn&&(this._dsn=new Dsn(options.dsn))}return BaseClient.prototype.captureException=function(exception,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._process(this._getBackend().eventFromException(exception,hint).then((function(event){return _this._captureEvent(event,hint,scope)})).then((function(result){eventId=result}))),eventId},BaseClient.prototype.captureMessage=function(message,level,hint,scope){var _this=this,eventId=hint&&hint.event_id,promisedEvent=isPrimitive(message)?this._getBackend().eventFromMessage(String(message),level,hint):this._getBackend().eventFromException(message,hint);return this._process(promisedEvent.then((function(event){return _this._captureEvent(event,hint,scope)})).then((function(result){eventId=result}))),eventId},BaseClient.prototype.captureEvent=function(event,hint,scope){var eventId=hint&&hint.event_id;return this._process(this._captureEvent(event,hint,scope).then((function(result){eventId=result}))),eventId},BaseClient.prototype.captureSession=function(session){session.release?(this._sendSession(session),session.update({init:!1})):logger_logger.warn("Discarded session because of missing release")},BaseClient.prototype.getDsn=function(){return this._dsn},BaseClient.prototype.getOptions=function(){return this._options},BaseClient.prototype.flush=function(timeout){var _this=this;return this._isClientProcessing(timeout).then((function(ready){return _this._getBackend().getTransport().close(timeout).then((function(transportFlushed){return ready&&transportFlushed}))}))},BaseClient.prototype.close=function(timeout){var _this=this;return this.flush(timeout).then((function(result){return _this.getOptions().enabled=!1,result}))},BaseClient.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=setupIntegrations(this._options))},BaseClient.prototype.getIntegration=function(integration){try{return this._integrations[integration.id]||null}catch(_oO){return logger_logger.warn("Cannot retrieve integration "+integration.id+" from the current Client"),null}},BaseClient.prototype._updateSessionFromEvent=function(session,event){var e_1,_a,userAgent,crashed=!1,errored=!1,exceptions=event.exception&&event.exception.values;if(exceptions){errored=!0;try{for(var exceptions_1=(0,tslib_es6.XA)(exceptions),exceptions_1_1=exceptions_1.next();!exceptions_1_1.done;exceptions_1_1=exceptions_1.next()){var mechanism=exceptions_1_1.value.mechanism;if(mechanism&&!1===mechanism.handled){crashed=!0;break}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{exceptions_1_1&&!exceptions_1_1.done&&(_a=exceptions_1.return)&&_a.call(exceptions_1)}finally{if(e_1)throw e_1.error}}}var user=event.user;if(!session.userAgent){var headers=event.request?event.request.headers:{};for(var key in headers)if("user-agent"===key.toLowerCase()){userAgent=headers[key];break}}session.update((0,tslib_es6.pi)((0,tslib_es6.pi)({},crashed&&{status:SessionStatus.Crashed}),{user:user,userAgent:userAgent,errors:session.errors+Number(errored||crashed)})),this.captureSession(session)},BaseClient.prototype._sendSession=function(session){this._getBackend().sendSession(session)},BaseClient.prototype._isClientProcessing=function(timeout){var _this=this;return new syncpromise_SyncPromise((function(resolve){var ticked=0,interval=setInterval((function(){0==_this._processing?(clearInterval(interval),resolve(!0)):(ticked+=1,timeout&&ticked>=timeout&&(clearInterval(interval),resolve(!1)))}),1)}))},BaseClient.prototype._getBackend=function(){return this._backend},BaseClient.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},BaseClient.prototype._prepareEvent=function(event,scope,hint){var _this=this,_a=this.getOptions().normalizeDepth,normalizeDepth=void 0===_a?3:_a,prepared=(0,tslib_es6.pi)((0,tslib_es6.pi)({},event),{event_id:event.event_id||(hint&&hint.event_id?hint.event_id:(0,misc.DM)()),timestamp:event.timestamp||(0,time.yW)()});this._applyClientOptions(prepared),this._applyIntegrationsMetadata(prepared);var finalScope=scope;hint&&hint.captureContext&&(finalScope=Scope.clone(finalScope).update(hint.captureContext));var result=syncpromise_SyncPromise.resolve(prepared);return finalScope&&(result=finalScope.applyToEvent(prepared,hint)),result.then((function(evt){return"number"==typeof normalizeDepth&&normalizeDepth>0?_this._normalizeEvent(evt,normalizeDepth):evt}))},BaseClient.prototype._normalizeEvent=function(event,depth){if(!event)return null;var normalized=(0,tslib_es6.pi)((0,tslib_es6.pi)((0,tslib_es6.pi)((0,tslib_es6.pi)((0,tslib_es6.pi)({},event),event.breadcrumbs&&{breadcrumbs:event.breadcrumbs.map((function(b){return(0,tslib_es6.pi)((0,tslib_es6.pi)({},b),b.data&&{data:normalize(b.data,depth)})}))}),event.user&&{user:normalize(event.user,depth)}),event.contexts&&{contexts:normalize(event.contexts,depth)}),event.extra&&{extra:normalize(event.extra,depth)});return event.contexts&&event.contexts.trace&&(normalized.contexts.trace=event.contexts.trace),normalized},BaseClient.prototype._applyClientOptions=function(event){var options=this.getOptions(),environment=options.environment,release=options.release,dist=options.dist,_a=options.maxValueLength,maxValueLength=void 0===_a?250:_a;"environment"in event||(event.environment="environment"in options?environment:"production"),void 0===event.release&&void 0!==release&&(event.release=release),void 0===event.dist&&void 0!==dist&&(event.dist=dist),event.message&&(event.message=truncate(event.message,maxValueLength));var exception=event.exception&&event.exception.values&&event.exception.values[0];exception&&exception.value&&(exception.value=truncate(exception.value,maxValueLength));var request=event.request;request&&request.url&&(request.url=truncate(request.url,maxValueLength))},BaseClient.prototype._applyIntegrationsMetadata=function(event){var sdkInfo=event.sdk,integrationsArray=Object.keys(this._integrations);sdkInfo&&integrationsArray.length>0&&(sdkInfo.integrations=integrationsArray)},BaseClient.prototype._sendEvent=function(event){this._getBackend().sendEvent(event)},BaseClient.prototype._captureEvent=function(event,hint,scope){return this._processEvent(event,hint,scope).then((function(finalEvent){return finalEvent.event_id}),(function(reason){logger_logger.error(reason)}))},BaseClient.prototype._processEvent=function(event,hint,scope){var _this=this,_a=this.getOptions(),beforeSend=_a.beforeSend,sampleRate=_a.sampleRate;if(!this._isEnabled())return syncpromise_SyncPromise.reject(new SentryError("SDK not enabled, will not send event."));var isTransaction="transaction"===event.type;return!isTransaction&&"number"==typeof sampleRate&&Math.random()>sampleRate?syncpromise_SyncPromise.reject(new SentryError("Discarding event because it's not included in the random sample (sampling rate = "+sampleRate+")")):this._prepareEvent(event,scope,hint).then((function(prepared){if(null===prepared)throw new SentryError("An event processor returned null, will not send event.");if(hint&&hint.data&&!0===hint.data.__sentry__||isTransaction||!beforeSend)return prepared;var beforeSendResult=beforeSend(prepared,hint);if(void 0===beforeSendResult)throw new SentryError("`beforeSend` method has to return `null` or a valid event.");return isThenable(beforeSendResult)?beforeSendResult.then((function(event){return event}),(function(e){throw new SentryError("beforeSend rejected with "+e)})):beforeSendResult})).then((function(processedEvent){if(null===processedEvent)throw new SentryError("`beforeSend` returned `null`, will not send event.");var session=scope&&scope.getSession&&scope.getSession();return!isTransaction&&session&&_this._updateSessionFromEvent(session,processedEvent),_this._sendEvent(processedEvent),processedEvent})).then(null,(function(reason){if(reason instanceof SentryError)throw reason;throw _this.captureException(reason,{data:{__sentry__:!0},originalException:reason}),new SentryError("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+reason)}))},BaseClient.prototype._process=function(promise){var _this=this;this._processing+=1,promise.then((function(value){return _this._processing-=1,value}),(function(reason){return _this._processing-=1,reason}))},BaseClient}();!function(Status){Status.Unknown="unknown",Status.Skipped="skipped",Status.Success="success",Status.RateLimit="rate_limit",Status.Invalid="invalid",Status.Failed="failed"}(Status||(Status={})),function(Status){Status.fromHttpCode=function fromHttpCode(code){return code>=200&&code<300?Status.Success:429===code?Status.RateLimit:code>=400&&code<500?Status.Invalid:code>=500?Status.Failed:Status.Unknown}}(Status||(Status={}));var Severity,NoopTransport=function(){function NoopTransport(){}return NoopTransport.prototype.sendEvent=function(_){return syncpromise_SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Status.Skipped})},NoopTransport.prototype.close=function(_){return syncpromise_SyncPromise.resolve(!0)},NoopTransport}(),BaseBackend=function(){function BaseBackend(options){this._options=options,this._options.dsn||logger_logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return BaseBackend.prototype.eventFromException=function(_exception,_hint){throw new SentryError("Backend has to implement `eventFromException` method")},BaseBackend.prototype.eventFromMessage=function(_message,_level,_hint){throw new SentryError("Backend has to implement `eventFromMessage` method")},BaseBackend.prototype.sendEvent=function(event){this._transport.sendEvent(event).then(null,(function(reason){logger_logger.error("Error while sending event: "+reason)}))},BaseBackend.prototype.sendSession=function(session){this._transport.sendSession?this._transport.sendSession(session).then(null,(function(reason){logger_logger.error("Error while sending session: "+reason)})):logger_logger.warn("Dropping session because custom transport doesn't implement sendSession")},BaseBackend.prototype.getTransport=function(){return this._transport},BaseBackend.prototype._setupTransport=function(){return new NoopTransport},BaseBackend}();!function(Severity){Severity.Fatal="fatal",Severity.Error="error",Severity.Warning="warning",Severity.Log="log",Severity.Info="info",Severity.Debug="debug",Severity.Critical="critical"}(Severity||(Severity={})),function(Severity){Severity.fromString=function fromString(level){switch(level){case"debug":return Severity.Debug;case"info":return Severity.Info;case"warn":case"warning":return Severity.Warning;case"error":return Severity.Error;case"fatal":return Severity.Fatal;case"critical":return Severity.Critical;default:return Severity.Log}}}(Severity||(Severity={}));var chrome=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/,reactMinifiedRegexp=/Minified React error #\d+;/i;function computeStackTrace(ex){var stack=null,popSize=0;ex&&("number"==typeof ex.framesToPop?popSize=ex.framesToPop:reactMinifiedRegexp.test(ex.message)&&(popSize=1));try{if(stack=function computeStackTraceFromStacktraceProp(ex){if(!ex||!ex.stacktrace)return null;for(var parts,stacktrace=ex.stacktrace,opera10Regex=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,opera11Regex=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,lines=stacktrace.split("\n"),stack=[],line=0;line<lines.length;line+=2){var element=null;(parts=opera10Regex.exec(lines[line]))?element={url:parts[2],func:parts[3],args:[],line:+parts[1],column:null}:(parts=opera11Regex.exec(lines[line]))&&(element={url:parts[6],func:parts[3]||parts[4],args:parts[5]?parts[5].split(","):[],line:+parts[1],column:+parts[2]}),element&&(!element.func&&element.line&&(element.func="?"),stack.push(element))}if(!stack.length)return null;return{message:extractMessage(ex),name:ex.name,stack:stack}}(ex),stack)return popFrames(stack,popSize)}catch(e){}try{if(stack=function computeStackTraceFromStackProp(ex){if(!ex||!ex.stack)return null;for(var submatch,parts,element,stack=[],lines=ex.stack.split("\n"),i=0;i<lines.length;++i){if(parts=chrome.exec(lines[i])){var isNative=parts[2]&&0===parts[2].indexOf("native");parts[2]&&0===parts[2].indexOf("eval")&&(submatch=chromeEval.exec(parts[2]))&&(parts[2]=submatch[1],parts[3]=submatch[2],parts[4]=submatch[3]),element={url:parts[2]&&0===parts[2].indexOf("address at ")?parts[2].substr("address at ".length):parts[2],func:parts[1]||"?",args:isNative?[parts[2]]:[],line:parts[3]?+parts[3]:null,column:parts[4]?+parts[4]:null}}else if(parts=winjs.exec(lines[i]))element={url:parts[2],func:parts[1]||"?",args:[],line:+parts[3],column:parts[4]?+parts[4]:null};else{if(!(parts=gecko.exec(lines[i])))continue;parts[3]&&parts[3].indexOf(" > eval")>-1&&(submatch=geckoEval.exec(parts[3]))?(parts[1]=parts[1]||"eval",parts[3]=submatch[1],parts[4]=submatch[2],parts[5]=""):0!==i||parts[5]||void 0===ex.columnNumber||(stack[0].column=ex.columnNumber+1),element={url:parts[3],func:parts[1]||"?",args:parts[2]?parts[2].split(","):[],line:parts[4]?+parts[4]:null,column:parts[5]?+parts[5]:null}}!element.func&&element.line&&(element.func="?"),stack.push(element)}if(!stack.length)return null;return{message:extractMessage(ex),name:ex.name,stack:stack}}(ex),stack)return popFrames(stack,popSize)}catch(e){}return{message:extractMessage(ex),name:ex&&ex.name,stack:[],failed:!0}}function popFrames(stacktrace,popSize){try{return(0,tslib_es6.pi)((0,tslib_es6.pi)({},stacktrace),{stack:stacktrace.stack.slice(popSize)})}catch(e){return stacktrace}}function extractMessage(ex){var message=ex&&ex.message;return message?message.error&&"string"==typeof message.error.message?message.error.message:message:"No error message"}function exceptionFromStacktrace(stacktrace){var frames=prepareFramesForEvent(stacktrace.stack),exception={type:stacktrace.name,value:stacktrace.message};return frames&&frames.length&&(exception.stacktrace={frames:frames}),void 0===exception.type&&""===exception.value&&(exception.value="Unrecoverable error caught"),exception}function eventFromStacktrace(stacktrace){return{exception:{values:[exceptionFromStacktrace(stacktrace)]}}}function prepareFramesForEvent(stack){if(!stack||!stack.length)return[];var localStack=stack,firstFrameFunction=localStack[0].func||"",lastFrameFunction=localStack[localStack.length-1].func||"";return-1===firstFrameFunction.indexOf("captureMessage")&&-1===firstFrameFunction.indexOf("captureException")||(localStack=localStack.slice(1)),-1!==lastFrameFunction.indexOf("sentryWrapped")&&(localStack=localStack.slice(0,-1)),localStack.slice(0,50).map((function(frame){return{colno:null===frame.column?void 0:frame.column,filename:frame.url||localStack[0].url,function:frame.func||"?",in_app:!0,lineno:null===frame.line?void 0:frame.line}})).reverse()}function eventFromUnknownInput(exception,syntheticException,options){var event;if(void 0===options&&(options={}),isErrorEvent(exception)&&exception.error)return event=eventFromStacktrace(computeStackTrace(exception=exception.error));if(isDOMError(exception)||function isDOMException(wat){return"[object DOMException]"===Object.prototype.toString.call(wat)}(exception)){var domException=exception,name_1=domException.name||(isDOMError(domException)?"DOMError":"DOMException"),message=domException.message?name_1+": "+domException.message:name_1;return event=eventFromString(message,syntheticException,options),(0,misc.Db)(event,message),"code"in domException&&(event.tags=(0,tslib_es6.pi)((0,tslib_es6.pi)({},event.tags),{"DOMException.code":""+domException.code})),event}return isError(exception)?event=eventFromStacktrace(computeStackTrace(exception)):isPlainObject(exception)||isEvent(exception)?(event=function eventFromPlainObject(exception,syntheticException,rejection){var event={exception:{values:[{type:isEvent(exception)?exception.constructor.name:rejection?"UnhandledRejection":"Error",value:"Non-Error "+(rejection?"promise rejection":"exception")+" captured with keys: "+extractExceptionKeysForMessage(exception)}]},extra:{__serialized__:normalizeToSize(exception)}};if(syntheticException){var frames_1=prepareFramesForEvent(computeStackTrace(syntheticException).stack);event.stacktrace={frames:frames_1}}return event}(exception,syntheticException,options.rejection),(0,misc.EG)(event,{synthetic:!0}),event):(event=eventFromString(exception,syntheticException,options),(0,misc.Db)(event,""+exception,void 0),(0,misc.EG)(event,{synthetic:!0}),event)}function eventFromString(input,syntheticException,options){void 0===options&&(options={});var event={message:input};if(options.attachStacktrace&&syntheticException){var frames_1=prepareFramesForEvent(computeStackTrace(syntheticException).stack);event.stacktrace={frames:frames_1}}return event}function getSdkMetadataForEnvelopeHeader(api){if(api.metadata&&api.metadata.sdk){var _a=api.metadata.sdk;return{name:_a.name,version:_a.version}}}function enhanceEventWithSdkInfo(event,sdkInfo){return sdkInfo?(event.sdk=event.sdk||{name:sdkInfo.name,version:sdkInfo.version},event.sdk.name=event.sdk.name||sdkInfo.name,event.sdk.version=event.sdk.version||sdkInfo.version,event.sdk.integrations=(0,tslib_es6.fl)(event.sdk.integrations||[],sdkInfo.integrations||[]),event.sdk.packages=(0,tslib_es6.fl)(event.sdk.packages||[],sdkInfo.packages||[]),event):event}function sessionToSentryRequest(session,api){var sdkInfo=getSdkMetadataForEnvelopeHeader(api);return{body:JSON.stringify((0,tslib_es6.pi)({sent_at:(new Date).toISOString()},sdkInfo&&{sdk:sdkInfo}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(session),type:"session",url:api.getEnvelopeEndpointWithUrlEncodedAuth()}}function eventToSentryRequest(event,api){var sdkInfo=getSdkMetadataForEnvelopeHeader(api),eventType=event.type||"event",useEnvelope="transaction"===eventType,_a=event.debug_meta||{},transactionSampling=_a.transactionSampling,metadata=(0,tslib_es6._T)(_a,["transactionSampling"]),_b=transactionSampling||{},samplingMethod=_b.method,sampleRate=_b.rate;0===Object.keys(metadata).length?delete event.debug_meta:event.debug_meta=metadata;var req={body:JSON.stringify(sdkInfo?enhanceEventWithSdkInfo(event,api.metadata.sdk):event),type:eventType,url:useEnvelope?api.getEnvelopeEndpointWithUrlEncodedAuth():api.getStoreEndpointWithUrlEncodedAuth()};if(useEnvelope){var envelope=JSON.stringify((0,tslib_es6.pi)({event_id:event.event_id,sent_at:(new Date).toISOString()},sdkInfo&&{sdk:sdkInfo}))+"\n"+JSON.stringify({type:event.type,sample_rates:[{id:samplingMethod,rate:sampleRate}]})+"\n"+req.body;req.body=envelope}return req}var API=function(){function API(dsn,metadata){void 0===metadata&&(metadata={}),this.dsn=dsn,this._dsnObject=new Dsn(dsn),this.metadata=metadata}return API.prototype.getDsn=function(){return this._dsnObject},API.prototype.getBaseApiEndpoint=function(){var dsn=this._dsnObject,protocol=dsn.protocol?dsn.protocol+":":"",port=dsn.port?":"+dsn.port:"";return protocol+"//"+dsn.host+port+(dsn.path?"/"+dsn.path:"")+"/api/"},API.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},API.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},API.prototype.getStoreEndpointPath=function(){var dsn=this._dsnObject;return(dsn.path?"/"+dsn.path:"")+"/api/"+dsn.projectId+"/store/"},API.prototype.getRequestHeaders=function(clientName,clientVersion){var dsn=this._dsnObject,header=["Sentry sentry_version=7"];return header.push("sentry_client="+clientName+"/"+clientVersion),header.push("sentry_key="+dsn.publicKey),dsn.pass&&header.push("sentry_secret="+dsn.pass),{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}},API.prototype.getReportDialogEndpoint=function(dialogOptions){void 0===dialogOptions&&(dialogOptions={});var dsn=this._dsnObject,endpoint=this.getBaseApiEndpoint()+"embed/error-page/",encodedOptions=[];for(var key in encodedOptions.push("dsn="+dsn.toString()),dialogOptions)if("dsn"!==key)if("user"===key){if(!dialogOptions.user)continue;dialogOptions.user.name&&encodedOptions.push("name="+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&encodedOptions.push("email="+encodeURIComponent(dialogOptions.user.email))}else encodedOptions.push(encodeURIComponent(key)+"="+encodeURIComponent(dialogOptions[key]));return encodedOptions.length?endpoint+"?"+encodedOptions.join("&"):endpoint},API.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},API.prototype._getIngestEndpoint=function(target){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+target+"/"},API.prototype._encodedAuth=function(){return function urlEncode(object){return Object.keys(object).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(object[key])})).join("&")}({sentry_key:this._dsnObject.publicKey,sentry_version:"7"})},API}(),PromiseBuffer=function(){function PromiseBuffer(_limit){this._limit=_limit,this._buffer=[]}return PromiseBuffer.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},PromiseBuffer.prototype.add=function(task){var _this=this;return this.isReady()?(-1===this._buffer.indexOf(task)&&this._buffer.push(task),task.then((function(){return _this.remove(task)})).then(null,(function(){return _this.remove(task).then(null,(function(){}))})),task):syncpromise_SyncPromise.reject(new SentryError("Not adding Promise due to buffer limit reached."))},PromiseBuffer.prototype.remove=function(task){return this._buffer.splice(this._buffer.indexOf(task),1)[0]},PromiseBuffer.prototype.length=function(){return this._buffer.length},PromiseBuffer.prototype.drain=function(timeout){var _this=this;return new syncpromise_SyncPromise((function(resolve){var capturedSetTimeout=setTimeout((function(){timeout&&timeout>0&&resolve(!1)}),timeout);syncpromise_SyncPromise.all(_this._buffer).then((function(){clearTimeout(capturedSetTimeout),resolve(!0)})).then(null,(function(){resolve(!0)}))}))},PromiseBuffer}(),CATEGORY_MAPPING={event:"error",transaction:"transaction",session:"session"},BaseTransport=function(){function BaseTransport(options){this.options=options,this._buffer=new PromiseBuffer(30),this._rateLimits={},this._api=new API(options.dsn,options._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return BaseTransport.prototype.sendEvent=function(_){throw new SentryError("Transport Class has to implement `sendEvent` method")},BaseTransport.prototype.close=function(timeout){return this._buffer.drain(timeout)},BaseTransport.prototype._handleResponse=function(_a){var requestType=_a.requestType,response=_a.response,headers=_a.headers,resolve=_a.resolve,reject=_a.reject,status=Status.fromHttpCode(response.status);this._handleRateLimit(headers)&&logger_logger.warn("Too many requests, backing off until: "+this._disabledUntil(requestType)),status!==Status.Success?reject(response):resolve({status:status})},BaseTransport.prototype._disabledUntil=function(requestType){var category=CATEGORY_MAPPING[requestType];return this._rateLimits[category]||this._rateLimits.all},BaseTransport.prototype._isRateLimited=function(requestType){return this._disabledUntil(requestType)>new Date(Date.now())},BaseTransport.prototype._handleRateLimit=function(headers){var e_1,_a,e_2,_b,now=Date.now(),rlHeader=headers["x-sentry-rate-limits"],raHeader=headers["retry-after"];if(rlHeader){try{for(var _c=(0,tslib_es6.XA)(rlHeader.trim().split(",")),_d=_c.next();!_d.done;_d=_c.next()){var parameters=_d.value.split(":",2),headerDelay=parseInt(parameters[0],10),delay=1e3*(isNaN(headerDelay)?60:headerDelay);try{for(var _e=(e_2=void 0,(0,tslib_es6.XA)(parameters[1].split(";"))),_f=_e.next();!_f.done;_f=_e.next()){var category=_f.value;this._rateLimits[category||"all"]=new Date(now+delay)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_2)throw e_2.error}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return!0}return!!raHeader&&(this._rateLimits.all=new Date(now+(0,misc.JY)(now,raHeader)),!0)},BaseTransport}();var FetchTransport=function(_super){function FetchTransport(options,fetchImpl){void 0===fetchImpl&&(fetchImpl=function getNativeFetchImplementation(){var _a,_b,global=(0,misc.Rf)();if(isNativeFetch(global.fetch))return global.fetch.bind(global);var document=global.document,fetchImpl=global.fetch;if("function"==typeof(null===(_a=document)||void 0===_a?void 0:_a.createElement))try{var sandbox=document.createElement("iframe");sandbox.hidden=!0,document.head.appendChild(sandbox),(null===(_b=sandbox.contentWindow)||void 0===_b?void 0:_b.fetch)&&(fetchImpl=sandbox.contentWindow.fetch),document.head.removeChild(sandbox)}catch(e){logger_logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return fetchImpl.bind(global)}());var _this=_super.call(this,options)||this;return _this._fetch=fetchImpl,_this}return(0,tslib_es6.ZT)(FetchTransport,_super),FetchTransport.prototype.sendEvent=function(event){return this._sendRequest(eventToSentryRequest(event,this._api),event)},FetchTransport.prototype.sendSession=function(session){return this._sendRequest(sessionToSentryRequest(session,this._api),session)},FetchTransport.prototype._sendRequest=function(sentryRequest,originalPayload){var _this=this;if(this._isRateLimited(sentryRequest.type))return Promise.reject({event:originalPayload,type:sentryRequest.type,reason:"Transport locked till "+this._disabledUntil(sentryRequest.type)+" due to too many requests.",status:429});var options={body:sentryRequest.body,method:"POST",referrerPolicy:supportsReferrerPolicy()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(options,this.options.fetchParameters),void 0!==this.options.headers&&(options.headers=this.options.headers),this._buffer.add(new syncpromise_SyncPromise((function(resolve,reject){_this._fetch(sentryRequest.url,options).then((function(response){var headers={"x-sentry-rate-limits":response.headers.get("X-Sentry-Rate-Limits"),"retry-after":response.headers.get("Retry-After")};_this._handleResponse({requestType:sentryRequest.type,response:response,headers:headers,resolve:resolve,reject:reject})})).catch(reject)})))},FetchTransport}(BaseTransport),XHRTransport=function(_super){function XHRTransport(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(XHRTransport,_super),XHRTransport.prototype.sendEvent=function(event){return this._sendRequest(eventToSentryRequest(event,this._api),event)},XHRTransport.prototype.sendSession=function(session){return this._sendRequest(sessionToSentryRequest(session,this._api),session)},XHRTransport.prototype._sendRequest=function(sentryRequest,originalPayload){var _this=this;return this._isRateLimited(sentryRequest.type)?Promise.reject({event:originalPayload,type:sentryRequest.type,reason:"Transport locked till "+this._disabledUntil(sentryRequest.type)+" due to too many requests.",status:429}):this._buffer.add(new syncpromise_SyncPromise((function(resolve,reject){var request=new XMLHttpRequest;for(var header in request.onreadystatechange=function(){if(4===request.readyState){var headers={"x-sentry-rate-limits":request.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":request.getResponseHeader("Retry-After")};_this._handleResponse({requestType:sentryRequest.type,response:request,headers:headers,resolve:resolve,reject:reject})}},request.open("POST",sentryRequest.url),_this.options.headers)_this.options.headers.hasOwnProperty(header)&&request.setRequestHeader(header,_this.options.headers[header]);request.send(sentryRequest.body)})))},XHRTransport}(BaseTransport),BrowserBackend=function(_super){function BrowserBackend(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(BrowserBackend,_super),BrowserBackend.prototype.eventFromException=function(exception,hint){return function eventFromException(options,exception,hint){var event=eventFromUnknownInput(exception,hint&&hint.syntheticException||void 0,{attachStacktrace:options.attachStacktrace});return(0,misc.EG)(event,{handled:!0,type:"generic"}),event.level=Severity.Error,hint&&hint.event_id&&(event.event_id=hint.event_id),syncpromise_SyncPromise.resolve(event)}(this._options,exception,hint)},BrowserBackend.prototype.eventFromMessage=function(message,level,hint){return void 0===level&&(level=Severity.Info),function eventFromMessage(options,message,level,hint){void 0===level&&(level=Severity.Info);var event=eventFromString(message,hint&&hint.syntheticException||void 0,{attachStacktrace:options.attachStacktrace});return event.level=level,hint&&hint.event_id&&(event.event_id=hint.event_id),syncpromise_SyncPromise.resolve(event)}(this._options,message,level,hint)},BrowserBackend.prototype._setupTransport=function(){if(!this._options.dsn)return _super.prototype._setupTransport.call(this);var transportOptions=(0,tslib_es6.pi)((0,tslib_es6.pi)({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(transportOptions):supportsFetch()?new FetchTransport(transportOptions):new XHRTransport(transportOptions)},BrowserBackend}(BaseBackend),ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError+=1,setTimeout((function(){ignoreOnError-=1}))}function wrap(fn,options,before){if(void 0===options&&(options={}),"function"!=typeof fn)return fn;try{if(fn.__sentry__)return fn;if(fn.__sentry_wrapped__)return fn.__sentry_wrapped__}catch(e){return fn}var sentryWrapped=function(){var args=Array.prototype.slice.call(arguments);try{before&&"function"==typeof before&&before.apply(this,arguments);var wrappedArguments=args.map((function(arg){return wrap(arg,options)}));return fn.handleEvent?fn.handleEvent.apply(this,wrappedArguments):fn.apply(this,wrappedArguments)}catch(ex){throw ignoreNextOnError(),withScope((function(scope){scope.addEventProcessor((function(event){var processedEvent=(0,tslib_es6.pi)({},event);return options.mechanism&&((0,misc.Db)(processedEvent,void 0,void 0),(0,misc.EG)(processedEvent,options.mechanism)),processedEvent.extra=(0,tslib_es6.pi)((0,tslib_es6.pi)({},processedEvent.extra),{arguments:args}),processedEvent})),captureException(ex)})),ex}};try{for(var property in fn)Object.prototype.hasOwnProperty.call(fn,property)&&(sentryWrapped[property]=fn[property])}catch(_oO){}fn.prototype=fn.prototype||{},sentryWrapped.prototype=fn.prototype,Object.defineProperty(fn,"__sentry_wrapped__",{enumerable:!1,value:sentryWrapped}),Object.defineProperties(sentryWrapped,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:fn}});try{Object.getOwnPropertyDescriptor(sentryWrapped,"name").configurable&&Object.defineProperty(sentryWrapped,"name",{get:function(){return fn.name}})}catch(_oO){}return sentryWrapped}function injectReportDialog(options){if(void 0===options&&(options={}),options.eventId)if(options.dsn){var script=document.createElement("script");script.async=!0,script.src=new API(options.dsn).getReportDialogEndpoint(options),options.onLoad&&(script.onload=options.onLoad),(document.head||document.body).appendChild(script)}else logger_logger.error("Missing dsn option in showReportDialog call");else logger_logger.error("Missing eventId option in showReportDialog call")}var Breadcrumbs=function(){function Breadcrumbs(options){this.name=Breadcrumbs.id,this._options=(0,tslib_es6.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},options)}return Breadcrumbs.prototype.addSentryBreadcrumb=function(event){this._options.sentry&&esm_hub_getCurrentHub().addBreadcrumb({category:"sentry."+("transaction"===event.type?"transaction":"event"),event_id:event.event_id,level:event.level,message:(0,misc.jH)(event)},{event:event})},Breadcrumbs.prototype.setupOnce=function(){var _this=this;this._options.console&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._consoleBreadcrumb.apply(_this,(0,tslib_es6.fl)(args))},type:"console"}),this._options.dom&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._domBreadcrumb.apply(_this,(0,tslib_es6.fl)(args))},type:"dom"}),this._options.xhr&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._xhrBreadcrumb.apply(_this,(0,tslib_es6.fl)(args))},type:"xhr"}),this._options.fetch&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._fetchBreadcrumb.apply(_this,(0,tslib_es6.fl)(args))},type:"fetch"}),this._options.history&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._historyBreadcrumb.apply(_this,(0,tslib_es6.fl)(args))},type:"history"})},Breadcrumbs.prototype._consoleBreadcrumb=function(handlerData){var breadcrumb={category:"console",data:{arguments:handlerData.args,logger:"console"},level:Severity.fromString(handlerData.level),message:safeJoin(handlerData.args," ")};if("assert"===handlerData.level){if(!1!==handlerData.args[0])return;breadcrumb.message="Assertion failed: "+(safeJoin(handlerData.args.slice(1)," ")||"console.assert"),breadcrumb.data.arguments=handlerData.args.slice(1)}esm_hub_getCurrentHub().addBreadcrumb(breadcrumb,{input:handlerData.args,level:handlerData.level})},Breadcrumbs.prototype._domBreadcrumb=function(handlerData){var target;try{target=handlerData.event.target?htmlTreeAsString(handlerData.event.target):htmlTreeAsString(handlerData.event)}catch(e){target="<unknown>"}0!==target.length&&esm_hub_getCurrentHub().addBreadcrumb({category:"ui."+handlerData.name,message:target},{event:handlerData.event,name:handlerData.name,global:handlerData.global})},Breadcrumbs.prototype._xhrBreadcrumb=function(handlerData){if(handlerData.endTimestamp){if(handlerData.xhr.__sentry_own_request__)return;var _a=handlerData.xhr.__sentry_xhr__||{},method=_a.method,url=_a.url,status_code=_a.status_code,body=_a.body;esm_hub_getCurrentHub().addBreadcrumb({category:"xhr",data:{method:method,url:url,status_code:status_code},type:"http"},{xhr:handlerData.xhr,input:body})}else;},Breadcrumbs.prototype._fetchBreadcrumb=function(handlerData){handlerData.endTimestamp&&(handlerData.fetchData.url.match(/sentry_key/)&&"POST"===handlerData.fetchData.method||(handlerData.error?esm_hub_getCurrentHub().addBreadcrumb({category:"fetch",data:handlerData.fetchData,level:Severity.Error,type:"http"},{data:handlerData.error,input:handlerData.args}):esm_hub_getCurrentHub().addBreadcrumb({category:"fetch",data:(0,tslib_es6.pi)((0,tslib_es6.pi)({},handlerData.fetchData),{status_code:handlerData.response.status}),type:"http"},{input:handlerData.args,response:handlerData.response})))},Breadcrumbs.prototype._historyBreadcrumb=function(handlerData){var global=(0,misc.Rf)(),from=handlerData.from,to=handlerData.to,parsedLoc=(0,misc.en)(global.location.href),parsedFrom=(0,misc.en)(from),parsedTo=(0,misc.en)(to);parsedFrom.path||(parsedFrom=parsedLoc),parsedLoc.protocol===parsedTo.protocol&&parsedLoc.host===parsedTo.host&&(to=parsedTo.relative),parsedLoc.protocol===parsedFrom.protocol&&parsedLoc.host===parsedFrom.host&&(from=parsedFrom.relative),esm_hub_getCurrentHub().addBreadcrumb({category:"navigation",data:{from:from,to:to}})},Breadcrumbs.id="Breadcrumbs",Breadcrumbs}(),BrowserClient=function(_super){function BrowserClient(options){void 0===options&&(options={});return options._metadata=options._metadata||{},options._metadata.sdk=options._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"6.2.5"}],version:"6.2.5"},_super.call(this,BrowserBackend,options)||this}return(0,tslib_es6.ZT)(BrowserClient,_super),BrowserClient.prototype.showReportDialog=function(options){void 0===options&&(options={}),(0,misc.Rf)().document&&(this._isEnabled()?injectReportDialog((0,tslib_es6.pi)((0,tslib_es6.pi)({},options),{dsn:options.dsn||this.getDsn()})):logger_logger.error("Trying to call showReportDialog with Sentry Client disabled"))},BrowserClient.prototype._prepareEvent=function(event,scope,hint){return event.platform=event.platform||"javascript",_super.prototype._prepareEvent.call(this,event,scope,hint)},BrowserClient.prototype._sendEvent=function(event){var integration=this.getIntegration(Breadcrumbs);integration&&integration.addSentryBreadcrumb(event),_super.prototype._sendEvent.call(this,event)},BrowserClient}(BaseClient),DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],TryCatch=function(){function TryCatch(options){this.name=TryCatch.id,this._options=(0,tslib_es6.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},options)}return TryCatch.prototype.setupOnce=function(){var global=(0,misc.Rf)();(this._options.setTimeout&&fill(global,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&fill(global,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&fill(global,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in global&&fill(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:DEFAULT_EVENT_TARGET).forEach(this._wrapEventTarget.bind(this))},TryCatch.prototype._wrapTimeFunction=function(original){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var originalCallback=args[0];return args[0]=wrap(originalCallback,{mechanism:{data:{function:getFunctionName(original)},handled:!0,type:"instrument"}}),original.apply(this,args)}},TryCatch.prototype._wrapRAF=function(original){return function(callback){return original.call(this,wrap(callback,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(original)},handled:!0,type:"instrument"}}))}},TryCatch.prototype._wrapEventTarget=function(target){var global=(0,misc.Rf)(),proto=global[target]&&global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(fill(proto,"addEventListener",(function(original){return function(eventName,fn,options){try{"function"==typeof fn.handleEvent&&(fn.handleEvent=wrap(fn.handleEvent.bind(fn),{mechanism:{data:{function:"handleEvent",handler:getFunctionName(fn),target:target},handled:!0,type:"instrument"}}))}catch(err){}return original.call(this,eventName,wrap(fn,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(fn),target:target},handled:!0,type:"instrument"}}),options)}})),fill(proto,"removeEventListener",(function(originalRemoveEventListener){return function(eventName,fn,options){var _a,wrappedEventHandler=fn;try{var originalEventHandler=null===(_a=wrappedEventHandler)||void 0===_a?void 0:_a.__sentry_wrapped__;originalEventHandler&&originalRemoveEventListener.call(this,eventName,originalEventHandler,options)}catch(e){}return originalRemoveEventListener.call(this,eventName,wrappedEventHandler,options)}})))},TryCatch.prototype._wrapXHR=function(originalSend){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this,xmlHttpRequestProps=["onload","onerror","onprogress","onreadystatechange"];return xmlHttpRequestProps.forEach((function(prop){prop in xhr&&"function"==typeof xhr[prop]&&fill(xhr,prop,(function(original){var wrapOptions={mechanism:{data:{function:prop,handler:getFunctionName(original)},handled:!0,type:"instrument"}};return original.__sentry_original__&&(wrapOptions.mechanism.data.handler=getFunctionName(original.__sentry_original__)),wrap(original,wrapOptions)}))})),originalSend.apply(this,args)}},TryCatch.id="TryCatch",TryCatch}(),GlobalHandlers=function(){function GlobalHandlers(options){this.name=GlobalHandlers.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,tslib_es6.pi)({onerror:!0,onunhandledrejection:!0},options)}return GlobalHandlers.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(logger_logger.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(logger_logger.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},GlobalHandlers.prototype._installGlobalOnErrorHandler=function(){var _this=this;this._onErrorHandlerInstalled||(addInstrumentationHandler({callback:function(data){var error=data.error,currentHub=esm_hub_getCurrentHub(),hasIntegration=currentHub.getIntegration(GlobalHandlers),isFailedOwnDelivery=error&&!0===error.__sentry_own_request__;if(hasIntegration&&!shouldIgnoreOnError()&&!isFailedOwnDelivery){var client=currentHub.getClient(),event=isPrimitive(error)?_this._eventFromIncompleteOnError(data.msg,data.url,data.line,data.column):_this._enhanceEventWithInitialFrame(eventFromUnknownInput(error,void 0,{attachStacktrace:client&&client.getOptions().attachStacktrace,rejection:!1}),data.url,data.line,data.column);(0,misc.EG)(event,{handled:!1,type:"onerror"}),currentHub.captureEvent(event,{originalException:error})}},type:"error"}),this._onErrorHandlerInstalled=!0)},GlobalHandlers.prototype._installGlobalOnUnhandledRejectionHandler=function(){var _this=this;this._onUnhandledRejectionHandlerInstalled||(addInstrumentationHandler({callback:function(e){var error=e;try{"reason"in e?error=e.reason:"detail"in e&&"reason"in e.detail&&(error=e.detail.reason)}catch(_oO){}var currentHub=esm_hub_getCurrentHub(),hasIntegration=currentHub.getIntegration(GlobalHandlers),isFailedOwnDelivery=error&&!0===error.__sentry_own_request__;if(!hasIntegration||shouldIgnoreOnError()||isFailedOwnDelivery)return!0;var client=currentHub.getClient(),event=isPrimitive(error)?_this._eventFromRejectionWithPrimitive(error):eventFromUnknownInput(error,void 0,{attachStacktrace:client&&client.getOptions().attachStacktrace,rejection:!0});event.level=Severity.Error,(0,misc.EG)(event,{handled:!1,type:"onunhandledrejection"}),currentHub.captureEvent(event,{originalException:error})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},GlobalHandlers.prototype._eventFromIncompleteOnError=function(msg,url,line,column){var name,message=isErrorEvent(msg)?msg.message:msg;if(isString(message)){var groups=message.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);groups&&(name=groups[1],message=groups[2])}var event={exception:{values:[{type:name||"Error",value:message}]}};return this._enhanceEventWithInitialFrame(event,url,line,column)},GlobalHandlers.prototype._eventFromRejectionWithPrimitive=function(reason){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(reason)}]}}},GlobalHandlers.prototype._enhanceEventWithInitialFrame=function(event,url,line,column){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].stacktrace=event.exception.values[0].stacktrace||{},event.exception.values[0].stacktrace.frames=event.exception.values[0].stacktrace.frames||[];var colno=isNaN(parseInt(column,10))?void 0:column,lineno=isNaN(parseInt(line,10))?void 0:line,filename=isString(url)&&url.length>0?url:(0,misc.l4)();return 0===event.exception.values[0].stacktrace.frames.length&&event.exception.values[0].stacktrace.frames.push({colno:colno,filename:filename,function:"?",in_app:!0,lineno:lineno}),event},GlobalHandlers.id="GlobalHandlers",GlobalHandlers}(),LinkedErrors=function(){function LinkedErrors(options){void 0===options&&(options={}),this.name=LinkedErrors.id,this._key=options.key||"cause",this._limit=options.limit||5}return LinkedErrors.prototype.setupOnce=function(){addGlobalEventProcessor((function(event,hint){var self=esm_hub_getCurrentHub().getIntegration(LinkedErrors);return self?self._handler(event,hint):event}))},LinkedErrors.prototype._handler=function(event,hint){if(!(event.exception&&event.exception.values&&hint&&isInstanceOf(hint.originalException,Error)))return event;var linkedErrors=this._walkErrorTree(hint.originalException,this._key);return event.exception.values=(0,tslib_es6.fl)(linkedErrors,event.exception.values),event},LinkedErrors.prototype._walkErrorTree=function(error,key,stack){if(void 0===stack&&(stack=[]),!isInstanceOf(error[key],Error)||stack.length+1>=this._limit)return stack;var exception=exceptionFromStacktrace(computeStackTrace(error[key]));return this._walkErrorTree(error[key],key,(0,tslib_es6.fl)([exception],stack))},LinkedErrors.id="LinkedErrors",LinkedErrors}(),useragent_global=(0,misc.Rf)(),UserAgent=function(){function UserAgent(){this.name=UserAgent.id}return UserAgent.prototype.setupOnce=function(){addGlobalEventProcessor((function(event){var _a,_b,_c;if(esm_hub_getCurrentHub().getIntegration(UserAgent)){if(!useragent_global.navigator&&!useragent_global.location&&!useragent_global.document)return event;var url=(null===(_a=event.request)||void 0===_a?void 0:_a.url)||(null===(_b=useragent_global.location)||void 0===_b?void 0:_b.href),referrer=(useragent_global.document||{}).referrer,userAgent=(useragent_global.navigator||{}).userAgent,headers=(0,tslib_es6.pi)((0,tslib_es6.pi)((0,tslib_es6.pi)({},null===(_c=event.request)||void 0===_c?void 0:_c.headers),referrer&&{Referer:referrer}),userAgent&&{"User-Agent":userAgent}),request=(0,tslib_es6.pi)((0,tslib_es6.pi)({},url&&{url:url}),{headers:headers});return(0,tslib_es6.pi)((0,tslib_es6.pi)({},event),{request:request})}return event}))},UserAgent.id="UserAgent",UserAgent}(),defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new UserAgent];function init(options){if(void 0===options&&(options={}),void 0===options.defaultIntegrations&&(options.defaultIntegrations=defaultIntegrations),void 0===options.release){var window_1=(0,misc.Rf)();window_1.SENTRY_RELEASE&&window_1.SENTRY_RELEASE.id&&(options.release=window_1.SENTRY_RELEASE.id)}void 0===options.autoSessionTracking&&(options.autoSessionTracking=!0),function initAndBind(clientClass,options){!0===options.debug&&logger_logger.enable();var hub=esm_hub_getCurrentHub(),client=new clientClass(options);hub.bindClient(client)}(BrowserClient,options),options.autoSessionTracking&&function startSessionTracking(){if(void 0===(0,misc.Rf)().document)return void logger_logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var hub=esm_hub_getCurrentHub();"startSession"in hub&&(hub.startSession(),hub.captureSession(),addInstrumentationHandler({callback:function(){hub.startSession(),hub.captureSession()},type:"history"}))}()}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function splitPath(filename){var parts=splitPathRe.exec(filename);return parts?parts.slice(1):[]}var HOOKS={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]},COMPONENT_NAME_REGEXP=/(?:^|[-_/])(\w)/g;function sdk_init(options){void 0===options&&(options={});var finalOptions=(0,tslib_es6.pi)((0,tslib_es6.pi)({Vue:(0,misc.Rf)().Vue,attachProps:!0,logErrors:!1,tracing:!1},options),{tracingOptions:(0,tslib_es6.pi)({hooks:["activate","mount","update"],timeout:2e3,trackComponents:!1},options.tracingOptions)});(finalOptions._metadata=finalOptions._metadata||{},finalOptions._metadata.sdk={name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:"6.2.5"}],version:"6.2.5"},init(finalOptions),void 0===finalOptions.Vue)?(logger_logger.warn("No Vue instance was provided. Also there is no Vue instance on the `window` object."),logger_logger.warn("We will only capture global unhandled errors.")):new VueHelper(finalOptions).setup()}var VueHelper=function(){function VueHelper(options){var _this=this;this._componentsCache={},this._applyTracingHooks=function(vm){if(!vm.$options.$_sentryPerfHook){vm.$options.$_sentryPerfHook=!0;var name=_this._getComponentName(vm),rootMount="root"===name,spans={},rootHandler=function(hook){var now=(0,time._I)();_this._rootSpan?_this._finishRootSpan(now):vm.$once("hook:"+hook,(function(){var activeTransaction=getActiveTransaction();activeTransaction&&(_this._rootSpan=activeTransaction.startChild({description:"Application Render",op:"Vue"}))}))},childHandler=function(hook,operation){var shouldTrack=Array.isArray(_this._options.tracingOptions.trackComponents)?_this._options.tracingOptions.trackComponents.indexOf(name)>-1:_this._options.tracingOptions.trackComponents,childOf=_this._rootSpan||getActiveTransaction();if(childOf&&shouldTrack){var now=(0,time._I)(),span=spans[operation];span?(span.finish(),_this._finishRootSpan(now)):vm.$once("hook:"+hook,(function(){childOf&&(spans[operation]=childOf.startChild({description:"Vue <"+name+">",op:operation}))}))}};_this._options.tracingOptions.hooks.forEach((function(operation){var internalHooks=HOOKS[operation];internalHooks?internalHooks.forEach((function(internalHook){var handler=rootMount?rootHandler.bind(_this,internalHook):childHandler.bind(_this,internalHook,operation),currentValue=vm.$options[internalHook];Array.isArray(currentValue)?vm.$options[internalHook]=(0,tslib_es6.fl)([handler],currentValue):vm.$options[internalHook]="function"==typeof currentValue?[handler,currentValue]:[handler]})):logger_logger.warn("Unknown hook: "+operation)}))}},this._options=options}return VueHelper.prototype.setup=function(){this._attachErrorHandler(),("tracesSampleRate"in this._options||"tracesSampler"in this._options)&&this._startTracing()},VueHelper.prototype._getComponentName=function(vm){if(!vm)return"anonymous component";if(vm.$root===vm)return"root";if(!vm.$options)return"anonymous component";if(vm.$options.name)return vm.$options.name;if(vm.$options._componentTag)return vm.$options._componentTag;if(vm.$options.__file){var filename=function basename(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f}(vm.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),".vue");return this._componentsCache[filename]||(this._componentsCache[filename]=filename.replace(COMPONENT_NAME_REGEXP,(function(_,c){return c?c.toUpperCase():""})))}return"anonymous component"},VueHelper.prototype._finishRootSpan=function(timestamp){var _this=this;this._rootSpanTimer&&clearTimeout(this._rootSpanTimer),this._rootSpanTimer=setTimeout((function(){_this._rootSpan&&(_this._rootSpan.finish(timestamp),_this._rootSpan=void 0)}),this._options.tracingOptions.timeout)},VueHelper.prototype._startTracing=function(){var applyTracingHooks=this._applyTracingHooks,appliedTracingHooks=setTimeout((function(){logger_logger.warn("Didn't apply tracing hooks, make sure you call Sentry.init before initialzing Vue!")}),500);this._options.Vue.mixin({beforeCreate:function(){clearTimeout(appliedTracingHooks),applyTracingHooks(this)}})},VueHelper.prototype._attachErrorHandler=function(){var _this=this,currentErrorHandler=this._options.Vue.config.errorHandler;this._options.Vue.config.errorHandler=function(error,vm,info){var metadata={};if(vm)try{metadata.componentName=_this._getComponentName(vm),_this._options.attachProps&&(metadata.propsData=vm.$options.propsData)}catch(_oO){logger_logger.warn("Unable to extract metadata from Vue component.")}info&&(metadata.lifecycleHook=info),setTimeout((function(){esm_hub_getCurrentHub().withScope((function(scope){scope.setContext("vue",metadata),esm_hub_getCurrentHub().captureException(error)}))})),"function"==typeof currentErrorHandler&&currentErrorHandler.call(_this._options.Vue,error,vm,info),_this._options.logErrors&&(_this._options.Vue.util&&_this._options.Vue.util.warn("Error in "+info+': "'+(error&&error.toString())+'"',vm),console.error(error))}},VueHelper}();function getActiveTransaction(){var _a;return null===(_a=esm_hub_getCurrentHub().getScope())||void 0===_a?void 0:_a.getTransaction()}var firstLoad=!0;function vueRouterInstrumentation(router){return function(startTransaction,startTransactionOnPageLoad,startTransactionOnLocationChange){void 0===startTransactionOnPageLoad&&(startTransactionOnPageLoad=!0),void 0===startTransactionOnLocationChange&&(startTransactionOnLocationChange=!0),router.onError((function(error){return captureException(error)}));var tags={"routing.instrumentation":"vue-router"};router.beforeEach((function(to,_from,next){var data={params:to.params,query:to.query};startTransactionOnPageLoad&&firstLoad&&startTransaction({name:to.name||to.path,op:"pageload",tags:tags,data:data}),startTransactionOnLocationChange&&!firstLoad&&startTransaction({name:to.name||to.matched[0].path||to.path,op:"navigation",tags:tags,data:data}),firstLoad=!1,next()}))}}},34155:function(module){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},70655:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{CR:function(){return __read},XA:function(){return __values},ZT:function(){return __extends},_T:function(){return __rest},fl:function(){return __spread},gn:function(){return __decorate},pi:function(){return __assign}});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}}}]);